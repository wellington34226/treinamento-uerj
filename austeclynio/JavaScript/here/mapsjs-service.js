
/**
 * The code below uses open source software. Please visit the URL below for an overview of the licenses:
 * http://js.api.here.com/v3/3.1.40.0/HERE_NOTICE
 */

H.util.eval("T.prototype.s=da(3,function(a){var b=this.getCache(),c=this;if(a!==y){C(a,Pk,T.prototype.s,0);var d=a}else d=wl;d!==b&&b.la(function(e,f,g){return c.rb(e)?(d.add(e,f,g),!0):!1});this.J=d});qi.prototype.b=da(2,function(a){this.g=a;a=this.getState();a!==Uh.INIT&&a!==Uh.LOADING&&xi(this)});function rp(a){a=a.qc(\"_#-;,:\",\"_#-;,:\",\"_#-;,:\");return new RegExp(\"^\"+a.replace(/[.*+?^${}()|[\\]\\\\\\/]/g,\"\\\\$&\").replace(/_#-;,:/g,\"\\\\d+\")+\"$\")}function sp(a,b){Ya.apply(null,arguments);return a}\nfunction tp(a,b){var c=x.console;c&&c.warn&&(a=wc(a)+\" is deprecated and will be removed soon. \",b&&(a+=b),c.warn(a))}var up=globalThis;sc(\"monospace serif\");function vp(){}vp.prototype.pop=function(a){this[a]||(this[a]=[]);return this[a].pop()||document.createElement(\"canvas\")};vp.prototype.push=function(a,b){this[b]||(this[b]=[]);this[b].push(a)};var wp=new vp;t(\"H.service.util.eval\",function(a){return eval(a)});function W(a,b,c,d,e,f){if(a&&b)this.vi(a),this.Ze(b),this.ud(c),this.ri(e),this.Nk(f),this.og(d);else throw new D(W,B,'Parameters \"scheme\" and \"host\" must be specified');}t(\"H.service.Url\",W);\nfunction xp(a,b){var c=x.document,d;var e=\"\";if(c){e=c.createElement(\"a\");if(b){var f=(d=c.getElementsByTagName(\"base\")[0])&&d.href;var g=c.head;var h=d||g.appendChild(c.createElement(\"base\"));h.href=b}e.href=a;e=e.href;b&&(d?d.href=f:g.removeChild(h))}else/[\\w]+:\\/\\//.test(a)&&(e=a);f=/(?:(\\w+):\\/\\/)?(?:([^:]+):([^@/]*)@)?([^/:]+)?(?:[:]{1}([0-9]+))?(\\/[^?#]*)?(\\?[^#]+)?(#.*)?/.exec(e);a=f[1];g=f[4];b=f[5];h=f[6];c=f[7];d=f[8];!f[2]&&g&&/@/.test(g)&&(g=g.split(\"@\")[1]);f=W;h=h&&0<h.length?h.substr(1):\n\"\";e={};var k,l;if(c)for(k=/([?&]?([^=&+]+))(=([^&]+))?/g;l=k.exec(c);)e[decodeURIComponent(l[2])]=l[4]?decodeURIComponent(l[4]):void 0;return new f(a,g,h,e,isNaN(+b)?void 0:+b,d&&0<d.length?d.substr(1):\"\")}W.parse=xp;W.prototype.clone=function(){var a={},b;for(b in this.a)a[b]=this.a[b];return new W(this.i,this.g,this.b,a,this.f,this.c)};W.prototype.clone=W.prototype.clone;\nW.prototype.vi=function(a){if(!a||\"string\"!==typeof a)throw new D(this.vi,0,'The \"scheme\" parameter must be a non-empty string.');this.i=a;return this};W.prototype.setScheme=W.prototype.vi;W.prototype.Om=function(){return this.i};W.prototype.getScheme=W.prototype.Om;W.prototype.Ze=function(a){if(!a||\"string\"!==typeof a||\"-\"===a.charAt(0)||\".\"===a.charAt(0)||\".\"===a.charAt(a.length-1))throw new D(this.Ze,0,'The \"host\" parameter is not a valid host name.');this.g=a;return this};\nW.prototype.setHost=W.prototype.Ze;W.prototype.km=function(){return this.g};W.prototype.getHost=W.prototype.km;W.prototype.ud=function(a){this.b=a||void 0;return this};W.prototype.setPath=W.prototype.ud;W.prototype.Cm=function(){return this.b};W.prototype.getPath=W.prototype.Cm;W.prototype.og=function(a){if(a)if(\"object\"==typeof a)this.a=a;else throw new D(this.og,0,'Parameter \"params\" must be an object.');else this.a={};return this};W.prototype.setQuery=W.prototype.og;W.prototype.Mj=function(){return!yp(this)};\nW.prototype.hasQuery=W.prototype.Mj;W.prototype.getQuery=function(){return this.a};W.prototype.getQuery=W.prototype.getQuery;W.prototype.ri=function(a){if(void 0===a)this.f=a;else{var b=Zd(+a<<0,0,65535);if(b!=a)throw new D(this.ri,0,'Parameter \"port\" must be an integer in range [0...65535]');this.f=b}return this};W.prototype.setPort=W.prototype.ri;W.prototype.Fm=function(){return this.f};W.prototype.getPort=W.prototype.Fm;W.prototype.Nk=function(a){this.c=a||void 0;return this};\nW.prototype.setAnchor=W.prototype.Nk;W.prototype.hd=function(){return this.c};W.prototype.getAnchor=W.prototype.hd;W.prototype.G=function(a){if(\"object\"!==typeof a)throw new D(this.G,0,'Parameter \"other\" must be an object.');var b=this.a,c;for(c in a)a.hasOwnProperty(c)&&\"function\"!==typeof a[c]&&(b[c]=a[c]);return this};W.prototype.mergeQuery=W.prototype.G;\nW.prototype.Aa=function(a){if(!a||\"string\"!==typeof a)throw new D(this.Aa,0,'Parameter \"subDomain\" must be a non-empty string');\".\"===a.substr(a.length-1)&&(a=a.substr(0,a.length-1));return this.Ze(a+\".\"+this.g)};W.prototype.addSubDomain=W.prototype.Aa;W.prototype.F=function(a){if(!a||\"string\"!==typeof a)throw new D(this.F,0,'Parameter \"subPath\" must be a non-empty string');return this.ud((this.b?this.b+\"/\":\"\")+a)};W.prototype.addSubPath=W.prototype.F;\nW.prototype.toString=function(){return[this.i+\"://\",this.g,this.f?\":\"+this.f:\"\",this.b||!yp(this)||this.c?\"/\":\"\",this.b?encodeURI(this.b):\"\",zp(this),this.c?\"#\"+encodeURIComponent(this.c):\"\"].join(\"\")};W.prototype.toString=W.prototype.toString;function Ap(a){return encodeURIComponent(a).replace(/[!'()*]/g,function(b){return\"%\"+b.charCodeAt(0).toString(16)})}\nfunction zp(a){var b=[],c=a.a,d={},e;for(e in c){if(c.hasOwnProperty(e)&&\"function\"!==typeof c[e]){var f=a.a[e];d.wd=Ap(e);C(f,Bp)?f.a.forEach(function(g){return function(h){b.push(g.wd+\"=\"+Ap(h))}}(d)):C(f,Cp)?b.push(d.wd+\"=\"+f.b.map(function(g){return Ap(g)}).join(f.a)):b.push(void 0===f?d.wd:d.wd+\"=\"+Ap(f))}d={wd:d.wd}}return 0<b.length?\"?\"+b.join(\"&\"):\"\"}\nfunction Dp(a){var b=Hf(\"H-service\",\"1.40.0\",\"b6cf9db\",{region:\"row\"});a.a.xnlp=\"CL_JSMv3.\"+b.version;return a}function yp(a){var b,c=0;for(b in a.a)if(a.a.hasOwnProperty(b)&&\"function\"!==typeof a.a[b]&&(c++,0<c))break;return!c}function Ep(a,b){if(zc(a))for(var c=0;c<a.length;c++){var d=a[c];if(!Ac(d)&&!Dc(d)){var e=\"The Array does not contain only strings and numbers\";break}}else e=\"Not an Array\";if(e)throw new D(b,0,a);return a}function Bp(a){this.a=Ep(a,Bp)}\nW.MultiValueQueryParameter=Bp;Bp.prototype.$m=function(){return this.a};Bp.prototype.getValues=Bp.prototype.$m;function Cp(a,b){this.b=Ep(a,Cp);if(!/^[!\\$\\(\\)\\*\\+,;]$/.test(b))throw new D(Cp,1,'Invalid delimiter \"'+b+'\"');this.a=b}W.DelimitedQuerySubValues=Cp;function Fp(a,b){C(a,Gp,Fp,0);var c={};Object.assign(c,b);c.min=c.min||0;c.max=c.max||20;c.tileSize=c.tileSize||512;c.getURL=function(d,e,f){return a.A().clone().F(a.b.gg+\"/\"+(a.b.Yf+\"/\")+(f+\"/\"+d+\"/\"+e+\"/\")+a.b.format).G(a.f).clone().G({size:c.tileSize})};Ck.call(this,c);this.i=a}u(Fp,Ck);t(\"H.service.rasterTile.Provider\",Fp);Fp.prototype.aa=function(a,b){var c=this.i;return Hp(c.aa(),c.b.gg+\".\"+c.$(),b,a)};Fp.prototype.getCopyrights=Fp.prototype.aa;Fp.prototype.j=function(){return nd()};\nFp.prototype.c=function(){return nd()?md():Fp.l.c.call(this)};function X(a){a=sp({},this.c,a);var b=a.apikey||a.apiKey,c=a.baseUrl;if(c=b?c?0:\"baseUrl\":\"apikey\")throw new D(X,0,'\"'+c+'\" must be specified');this.Pk(a.baseUrl);this.b=b;this.a.G({apikey:b});this.f=a.headers||{};this.g=Wa(a.servicesConfig||{})}t(\"H.service.Platform\",X);X.prototype.c={apikey:null,baseUrl:new W(\"https\",\"hereapi\"+(Gn?\".cn\":\".com\"))};X.prototype.Pk=function(a){this.a=Dp(a.clone());this.b=a=this.b;this.a.G({apikey:a})};X.prototype.setBaseUrl=X.prototype.Pk;X.prototype.Fb=function(){return this.a};\nX.prototype.getBaseUrl=X.prototype.Fb;X.prototype.La=function(a,b){try{return a.Tj=!0,new a(sp({platformBaseUrl:this.Fb(),headers:this.f},this.g[a.CONFIG_KEY]||{},b||{}))}finally{a.Tj=!1}};X.prototype.createService=X.prototype.La;\nX.prototype.tf=function(a,b,c){var d=this;if(!H.map.render.harp)throw Error(\"HARP engine module not found\");if(!Ea(a)&&!Ac(a))throw new D(this.tf,0,\"is invalid: must be either a configuration object or a URL\");if(!Da(b))throw new D(this.tf,1,\"is invalid: must be a Function\");if(!Da(c))throw new D(this.tf,2,\"is invalid: must be a Function\");var e=new H.map.render.harp.Style(a);e.addEventListener(\"change\",function(){var f=e.getState();if(-1===f)c(Error(\"H.service.platform#createHybridLayers method failed to load style configuration\"));\nelse if(2===f){f={dark:!0};var g=d.gh({resource:\"background\",queryParams:{style:\"satellite.day\"}}),h=e.mc(),k={styles:[{technique:\"raster\",attr:{gamma:1,brightness:1}}]};h.definitions&&(void 0!==h.definitions[\"Satellite.Texture.Gamma\"]&&(k.styles[0].attr.gamma=h.definitions[\"Satellite.Texture.Gamma\"]),void 0!==h.definitions[\"Satellite.Texture.Brightness\"]&&(k.styles[0].attr.brightness=h.definitions[\"Satellite.Texture.Brightness\"]));g=new Fp(g,{engineType:Kn,style:new H.map.render.harp.Style(k)});\nb({raster:new ql(g,f),vector:d.Ee().ic(e,{engineType:Kn},f)})}});e.load()};X.prototype.createHybridLayers=X.prototype.tf;X.prototype.sf=function(a,b,c,d,e,f){function g(S,oa,ca){oa=uo()+\"/\"+oa;oa=l===ik.WEBGL?new qi(oa):new H.map.render.harp.Style(oa);var jb={engineType:l};n&&n.politicalView&&(jb.politicalView=n.politicalView);c&&(jb.lg=c);d&&(jb.lg2=d);f&&(jb.pois=f);var Ma;ca&&(Ma={dark:ca});return S.ic(oa,jb,Ma)}function h(S,oa,ca,jb,Ma){return S.jc(oa,ca,q,jb,r,1,Ma,m)}var k=this,l=hk,m={crossOrigin:\"anonymous\"};if(Ea(a)){var n=a;\"crossOrigin\"in n&&(m.crossOrigin=n.crossOrigin);a=n.tileSize;b=n.ppi;c=n.lg;d=n.lg2;\ne=n.style;f=n.pois;void 0!==n.engineType&&(l=n.engineType,m.engineType=l)}var q=a||512,r={};if(0>[72,250,320,500].indexOf(+b)){if(b!==B)throw new D(this.sf,1,b);}else r.ppi=+b;c&&(r.lg=c);d&&(r.lg2=d);e&&(r.style=e);f&&(r.pois=!!f);if(l===ik.HARP&&!H.map.render.harp)throw new D(this.sf,0,\"HARP engine is not supported, module not found\");a={};if(Gn)sp(a,{vector:{normal:{map:g(this.Ee(),\"harp/oslo/normal.day.json\")}}});else{e=this.dh();var v=this.dh({type:\"aerial\"}),w=this.ih(),z=w.Zi(r.lg?{lg:r.lg,\ni18n:!0,engineType:l}:{engineType:l});sp(a,{raster:{normal:{xbase:h(e,\"xbasetile\",\"normal.day\",\"png8\",!1),xbasenight:h(e,\"xbasetile\",\"normal.night\",\"png8\",!0),base:h(e,\"basetile\",\"normal.day\",\"png8\",!1),basenight:h(e,\"basetile\",\"normal.night\",\"png8\",!0),map:h(e,\"maptile\",\"normal.day\",\"png8\",!1),mapnight:h(e,\"maptile\",\"normal.night\",\"png8\",!0),trafficincidents:z,transit:h(e,\"maptile\",\"normal.day.transit\",\"png8\",!1),labels:h(e,\"labeltile\",\"normal.day\",\"png\",!1)},satellite:{xbase:h(v,\"xbasetile\",\"hybrid.day\",\n\"jpg\",!0),base:h(v,\"basetile\",\"hybrid.day\",\"jpg\",!0),map:h(v,\"maptile\",\"hybrid.day\",\"jpg\",!0),labels:h(v,\"labeltile\",\"hybrid.day\",\"png\",!0)},terrain:{xbase:h(v,\"xbasetile\",\"terrain.day\",\"jpg\",!1),base:h(v,\"basetile\",\"terrain.day\",\"jpg\",!1),map:h(v,\"maptile\",\"terrain.day\",\"jpg\",!1),labels:h(v,\"labeltile\",\"terrain.day\",\"png\",!1)}}});l!==ik.P2D&&(sp(a,{vector:{normal:{traffic:w.Yi(void 0,l),trafficincidents:z}}}),e=this.Ee(),l===ik.WEBGL?(a.vector.normal.map=g(e,\"omv/miami/normal.day.yaml\"),a.vector.normal.truck=\ng(e,\"omv/miami/truck.day.yaml\")):l===ik.HARP&&(a.vector.normal.map=g(e,\"harp/oslo/normal.day.json\"),a.vector.normal.truck=g(e,\"harp/oslo/normal.day.json\")));if(l===ik.HARP){var J={ppi:72<b?400:100,size:256<q?512:256,features:\"pois:\"+(!0===f||Ac(f)&&/[^0]/.test(f)?\"all\":\"disabled\")};c&&(J.lang=c);d&&(J.lang2=d);n&&n.politicalView&&(J.pview=n.politicalView);b={dark:!0};e=function(S,oa,ca,jb,Ma){var Qc=sp({},J);/^explore\\./.test(ca)||delete Qc.features;S=k.gh({format:oa,resource:S,queryParams:sp({style:ca},\nQc)});Ma=new Fp(S,{engineType:l,style:Ma});return new ql(Ma,jb)};sp(a.raster.normal,{base:e(\"background\",\"png8\",\"explore.day\"),basenight:e(\"background\",\"png8\",\"explore.night\",b),map:e(\"base\",\"png8\",\"explore.day\"),mapnight:e(\"base\",\"png8\",\"explore.night\",b),labels:e(\"label\",\"png\",\"explore.day\")});sp(a.raster.satellite,{xbase:e(\"background\",\"jpeg\",\"satellite.day\",b),base:e(\"background\",\"jpeg\",\"explore.satellite.day\",b),map:e(\"base\",\"jpeg\",\"explore.satellite.day\",b),labels:e(\"label\",\"png\",\"explore.satellite.day\")});\nif(l===ik.HARP){v=this.Ee();sp(a.vector.normal,{mapnight:g(v,\"harp/oslo/normal.night.json\",!0),lite:g(v,\"harp/oslo/lite.day.json\"),litenight:g(v,\"harp/oslo/lite.night.json\",!0),ism:g(v,\"harp/oslo/ism.day.json\"),ismnight:g(v,\"harp/oslo/ism.night.json\",!0)});w={styles:[{technique:\"raster\",attr:{gamma:[\"interpolate\",[\"linear\"],[\"zoom\"],0,1,13,1.2,17,1.3],brightness:[\"interpolate\",[\"linear\"],[\"zoom\"],0,.7,13,.9,17,1]}}]};z=[];for(var I=0;4>I;I++){var Q=new H.map.render.harp.Style(JSON.parse(JSON.stringify(w)));\nQ=e(\"background\",\"jpeg\",\"satellite.day\",b,Q);z.push(Q)}a.hybrid={day:{raster:z[0],vector:g(v,\"harp/oslo/hybrid.day.json\",!0)},night:{raster:z[1],vector:g(v,\"harp/oslo/hybrid.night.json\",!0)},liteday:{raster:z[2],vector:g(v,\"harp/oslo/lite.hybrid.day.json\",!0)},litenight:{raster:z[3],vector:g(v,\"harp/oslo/lite.hybrid.night.json\",!0)}}}}}return a};X.prototype.createDefaultLayers=X.prototype.sf;function Ip(a,b){b=void 0===b?{}:b;if(!a.Tj)throw new Zc(a);Ip.l.constructor.call(this);var c=Jp(this,b);if(!c.baseUrl&&!c.platformBaseUrl)throw new D(a,0,'either \"baseUrl\" or \"platformBaseUrl\" must be specified');this.i=(c.baseUrl?c.baseUrl:c.platformBaseUrl).clone();a=c.baseUrl?b:c;a.host&&this.i.Ze(a.host);a.subDomain&&this.i.Aa(a.subDomain);a.path&&this.i.ud(a.path);Dp(this.i);this.g=c.headers||{}}u(Ip,F);t(\"H.service.Service\",Ip);function Jp(a,b){a=a.za();return b?sp({},a,b):a}\nIp.prototype.za=function(){return{}};Ip.prototype.A=function(){return this.i};Ip.prototype.getUrl=Ip.prototype.A;Ip.prototype.D=function(a,b,c,d){d=new tf(void 0===d?\"application/json\":d,a.toString(),he,{headers:this.g});d.then(b,Kp(this,a,c));return d};function Kp(a,b,c){return function(d){return\"function\"!==typeof d.json?Promise.reject(c(Lp(b,d))):d.json().then(function(e){return c(a.a(e))},function(){return c(Lp(b,d))})}}Ip.prototype.a=function(a){return Error(a.message)};\nfunction Lp(a,b){return Error((b.statusText?\"[\"+b.statusText+\"] \":\"\")+a+\" request failed\")};function Mp(a){Mp.l.constructor.call(this,Mp,a)}u(Mp,Ip);t(\"H.service.traffic.Service7\",Mp);Mp.prototype.za=function(){return{subDomain:\"data.traffic\",path:\"v7\"}};Mp.CONFIG_KEY=\"traffic_v7\";Mp.prototype.eo=function(a,b,c,d){a=this.A().clone().F([\"incidents\",a].join(\"/\")).G(b||{});return this.D(a,c,d)};Mp.prototype.requestIncidentById=Mp.prototype.eo;Mp.prototype.bo=function(a,b,c){a=this.A().clone().F(\"flow\").G(a||{});return this.D(a,b,c)};Mp.prototype.requestFlowByArea=Mp.prototype.bo;\nMp.prototype.ho=function(a,b,c){a=this.A().clone().F(\"incidents\").G(a||{});return this.D(a,b,c)};Mp.prototype.requestIncidentsByArea=Mp.prototype.ho;function Np(a){if(!a||!Da(a.requestData))throw new D(Np,0,\"options.requestData\");Np.l.constructor.call(this,a);this.N=a.requestData;this.B=!!a.providesDomMarkers}u(Np,T);t(\"H.map.provider.MarkerTileProvider\",Np);Np.prototype.Hd=function(a){return a?a.length+1:1};Np.prototype.getEntryWeight=Np.prototype.Hd;\nNp.prototype.D=function(a,b,c,d,e){var f=this;return this.N(a,b,c,function(g){for(var h=[],k,l,m=g.length;m--;)l=g[m],l.uo=f.getTileKey(a,b,c),l.ha(f),k=l.ub(),(C(l,$i)||1===k.getState())&&h.push(g[m]);d(h)},e)};Np.prototype.requestInternal=Np.prototype.D;Np.prototype.Sd=function(a,b){b===kh.VISUAL&&(a=this.lb().get(a.uo))&&(a.valid=!1,this.Ta(a))};Np.prototype.invalidateObject=Np.prototype.Sd;Np.prototype.Mb=function(){return this.B};Np.prototype.providesDomMarkers=Np.prototype.Mb;\nNp.prototype.Nb=ff;Np.prototype.providesMarkers=Np.prototype.Nb;function Op(){this.a={}}Op.prototype.ub=function(a,b){var c=a+b,d;if(d=this.a[c])return d;a=Pp.MARKER.replace(\"{{icon}}\",Qp[a]||Qp.OTHER);a=a.replace(\"{{color}}\",Rp[b]||Rp.BLOCKING);b={size:{w:26,h:33},anchor:{x:13,y:30},hitArea:new Vi(Wi.POLYGON,Sp.MARKER)};return this.a[c]=d=new Uj(a,b)};\nvar Pp={MARKER:'<svg width=\"26\" height=\"33\" enable-background=\"new 0 0 26 33\" viewBox=\"0 0 26 33\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"m26 33h-26v-33h26z\" fill=\"#8c8c8c\" opacity=\"0\"/><path d=\"m17 29.566c0 1.116-1.791 2.022-4 2.022s-4-.906-4-2.022c0-1.118 1.791-2.026 4-2.026s4 .908 4 2.026\" fill=\"#878787\" opacity=\".6\"/><path d=\"m1.795 17.971c-1.562-1.555-1.574-3.828-.028-5.655l8.343-10.021c.769-.895 1.795-1.384 2.894-1.384 1.117 0 2.197.521 2.889 1.394l8.338 10.014c1.588 1.854 1.578 4.022-.029 5.65l-11.202 11.202z\" fill=\"{{color}}\"/>{{icon}}</svg>'},Qp=\n{CONGESTION:'<path style=\"fill:#FFFFFF;\" d=\"M12.966,1.177c0.965,0,1.894,0.442,2.496,1.204l8.378,10.258c1.362,1.592,1.482,3.477,0,4.979L12.994,28.464L2.143,17.618c-1.381-1.375-1.38-3.348,0-4.979l8.314-10.258C11.174,1.547,12.085,1.177,12.966,1.177 M12.967,0.177L12.967,0.177c-1.247,0-2.408,0.551-3.269,1.552l-8.332,10.28c-1.711,2.022-1.688,4.567,0.07,6.317l10.85,10.845l0.707,0.707l0.707-0.707l10.847-10.846c1.784-1.807,1.803-4.292,0.053-6.337L16.237,1.748C15.462,0.769,14.236,0.177,12.967,0.177L12.967,0.177z M16.645,10.405l-2.025-2.22c-0.48-0.51-1.15-0.8-1.84-0.8H9.53c-0.69,0-1.36,0.29-1.84,0.8l-1.94,2.22c-0.39,0.63-0.59,1.35-0.59,2.09v1.64c0,0.69,0.56,1.25,1.25,1.25h1.44l0.255-0.539c0.204-0.431,0.456-0.837,0.753-1.21l0.962-1.211l0.83-0.9c0.32-0.35,0.72-0.63,1.15-0.82H8.23c-0.28,0-0.55-0.07-0.79-0.22l-0.28-0.17l1.27-1.45c0.28-0.31,0.68-0.48,1.1-0.48h3.25c0.42,0,0.82,0.17,1.1,0.48l1.354,1.54H16.645z M18.31,12.205c-0.35-0.37-0.81-0.63-1.3-0.74c-0.18-0.04-0.36-0.06-0.54-0.06h-3.24c-0.7,0-1.37,0.29-1.84,0.8l-1.13,1.22l-0.82,1c-0.38,0.63-0.59,1.35-0.59,2.09v1.64c0,0.69,0.56,1.25,1.25,1.25h1.75v-1h5.99v1h1.75c0.69,0,1.25-0.56,1.25-1.25v-1.64c0-0.74-0.2-1.46-0.59-2.09L18.31,12.205z M12.1,17.105h-1c-0.138,0-0.25-0.112-0.25-0.25v-1c0-0.138,0.112-0.25,0.25-0.25h1c0.138,0,0.25,0.112,0.25,0.25v1C12.35,16.993,12.238,17.105,12.1,17.105z M18.59,17.105h-1c-0.138,0-0.25-0.112-0.25-0.25v-1c0-0.138,0.112-0.25,0.25-0.25h1c0.138,0,0.25,0.112,0.25,0.25v1C18.84,16.993,18.728,17.105,18.59,17.105z M18.56,14.505c-0.24,0.15-0.51,0.22-0.79,0.22h-5.85c-0.28,0-0.55-0.07-0.78-0.22l-0.29-0.17l1.27-1.45c0.15-0.16,0.33-0.28,0.53-0.37c0.18-0.07,0.38-0.11,0.58-0.11h3.24c0.24,0,0.48,0.06,0.68,0.16c0.16,0.08,0.3,0.19,0.42,0.32l1.27,1.45L18.56,14.505z M8.42,13.03h-1c-0.138,0-0.25-0.112-0.25-0.25v-1c0-0.138,0.112-0.25,0.25-0.25h1c0.138,0,0.25,0.112,0.25,0.25v1C8.67,12.918,8.559,13.03,8.42,13.03z\"/>',\nROADWORKS:'<path d=\"m13.004 1.411c.964 0 1.894.441 2.496 1.204l8.346 10.023c1.363 1.592 1.482 3.477 0 4.979l-10.846 10.847-10.852-10.846c-1.381-1.375-1.379-3.348 0-4.979l8.346-10.023c.717-.835 1.628-1.205 2.51-1.205m0-1c-1.248 0-2.408.551-3.268 1.552l-8.356 10.035c-1.718 2.033-1.695 4.578.064 6.328l10.85 10.845.706.707.707-.707 10.846-10.846c1.784-1.808 1.803-4.293.053-6.337l-8.337-10.012c-.769-.973-1.996-1.565-3.265-1.565zm-.575 15.264c.018-.332-.13-.651-.394-.851l-2.945-2.235-.21.36c-.22.39-.41.78-.58 1.19l-.677 2.129-1.364 3.051h1.314l2.109-4.672 1.317 1.212.138 3.46h1.092zm6.16-1.327c-.401-.54-1.209-.539-1.609.001l-1.17 1.58-2.29-1.74-.139-4.054c-.011-.276-.134-.535-.342-.716l-.7-.61c-.185-.161-.422-.25-.667-.25h-1.885c-.335 0-.648.168-.833.447l-1.144 1.723 7.58 5.76-1.86 2.51c-.098.132-.004.32.161.32h6.648l1.142-1.077zm-8.79-2.989-.876-.665.841-1.018.965.043zm1.63 1.24.969-1.781.118 2.61zm2.76-5.79c-.64 0-1.16.52-1.16 1.16 0 .65.52 1.17 1.16 1.17s1.16-.52 1.16-1.17c0-.64-.52-1.16-1.16-1.16z\" fill=\"#fff\"/>',\nACCIDENT:'<path style=\"fill:#FFFFFF;\" d=\"M12.998,1.091c0.964,0,1.894,0.442,2.496,1.204l8.346,10.344c1.363,1.592,1.482,3.477,0,4.979L12.994,28.465L2.143,17.618c-1.381-1.375-1.379-3.348,0-4.979l8.346-10.344C11.205,1.462,12.115,1.091,12.998,1.091 M12.998,0.091L12.998,0.091c-1.248,0-2.408,0.551-3.269,1.552L1.364,12.011c-1.708,2.021-1.685,4.566,0.073,6.316l10.85,10.845l0.707,0.707l0.707-0.707l10.846-10.846c1.784-1.808,1.803-4.293,0.053-6.337l-8.327-10.32C15.494,0.684,14.268,0.091,12.998,0.091L12.998,0.091z M7.83,18.982l-3.309-1.855l0.945,1.855H7.83z M16.111,19h3.942l1.596-2L16.111,19z M10.512,20.064l1.021-1.021l1.632,0.076c0.329,0.018,0.651-0.022,0.963-0.123c0.626-0.206,1.122-0.76,1.288-1.44l0.264-1.089l2.066-0.93c0.373-0.17,0.673-0.42,0.861-0.731c0.275-0.449,0.405-0.97,0.369-1.498L18.9,11.676l1.021-1.021l-0.724-0.724l-0.427,0.427l-0.121-0.364c-0.201-0.603-0.54-1.151-0.989-1.6l-1.159-1.159c-0.5-0.5-1.31-0.5-1.809,0l-1.267,1.267l0.724,0.724l-5.066,5.066l-0.724-0.724l-1.267,1.267c-0.5,0.5-0.5,1.31,0,1.809l1.159,1.159c0.449,0.449,0.997,0.788,1.6,0.989l0.364,0.121l-0.427,0.427L10.512,20.064z M14.901,10.349l0.732-0.732c0.098-0.098,0.256-0.098,0.354,0l0.732,0.732c0.098,0.098,0.098,0.256,0,0.354l-0.732,0.732c-0.098,0.098-0.256,0.098-0.354,0l-0.732-0.732C14.803,10.604,14.803,10.446,14.901,10.349z M9.472,15.777l0.732-0.732c0.098-0.098,0.256-0.098,0.354,0l0.732,0.732c0.098,0.098,0.098,0.256,0,0.354l-0.732,0.732c-0.098,0.098-0.256,0.098-0.354,0L9.472,16.13C9.375,16.033,9.375,15.874,9.472,15.777z M11.391,17.615c0.069-0.271,0.206-0.518,0.405-0.717l4.961-4.961c0.195-0.195,0.445-0.337,0.717-0.405l0.344-0.083l0.137,1.925c0.022,0.318-0.058,0.63-0.221,0.901c-0.101,0.166-0.279,0.271-0.409,0.329L14.8,15.74l-0.38,1.574c-0.083,0.344-0.318,0.615-0.612,0.713c-0.188,0.058-0.38,0.083-0.579,0.072l-1.925-0.138L11.391,17.615z\"/>',\nOTHER:'<path style=\"fill:#FFFFFF;\" d=\"M13.004,1.411c0.964,0,1.894,0.441,2.496,1.204l8.346,10.023c1.363,1.592,1.482,3.477,0,4.979L13,28.465L2.148,17.618c-1.381-1.375-1.379-3.348,0-4.979l8.346-10.023C11.211,1.781,12.122,1.411,13.004,1.411 M13.004,0.411L13.004,0.411c-1.248,0-2.408,0.551-3.268,1.552L1.38,11.998c-1.718,2.033-1.694,4.579,0.064,6.328l10.85,10.845L13,29.878l0.707-0.707l10.846-10.846c1.784-1.808,1.803-4.293,0.053-6.337L16.269,1.976C15.5,1.003,14.273,0.411,13.004,0.411L13.004,0.411z M14.716,20.139c0,0.947-0.758,1.724-1.724,1.724c-0.947,0-1.704-0.777-1.704-1.724c0-0.928,0.757-1.704,1.704-1.704C13.958,18.435,14.716,19.211,14.716,20.139z M14.204,16.33H11.78l-0.537-8.533h3.5L14.204,16.33z\"/>'},\nRp={BLOCKING:\"#323232\",VERYHIGH:\"#d5232f\",HIGH:\"#ffa100\"},Sp={MARKER:[24.1,17.8,14.2,28.42,16.8,29.4,12.8,31.4,8.79,29.4,11.23,28.42,1.7,17.8,1.7,12.1,10,1.9,12.9,.498,15.8,1.9,24.1,12.1,24.1,17.8]};function Tp(a,b,c){c=c?c:{};c.criticality||(c.criticality=\"major,critical\");C(a,Up,Tp,0);Np.call(this,{max:20,min:8,requestData:A(this.K,this),engineType:c.engineType});this.f=new Op;this.u=a;this.i=c;this.reload=A(this.reload,this);this.m=setInterval(this.reload,b||18E4)}u(Tp,Np);t(\"H.service.traffic.incidents.Provider\",Tp);var Vp={minor:\"HIGH\",\"low impact\":\"HIGH\",major:\"VERYHIGH\",critical:\"BLOCKING\"};\nTp.prototype.K=function(a,b,c,d,e){var f=this,g=this.f;return this.u.requestIncidentsByTile(a,b,c,function(h){var k=[];h=h.TRAFFIC_ITEMS;var l;if(h)for(h=h.TRAFFIC_ITEM,l=h.length;l--;){var m=h[l];var n=m.TRAFFIC_ITEM_TYPE_DESC;switch(n){case \"ACCIDENT\":case \"CONGESTION\":var q=n;break;case \"CONSTRUCTION\":q=\"ROADWORKS\";break;default:q=\"OTHER\"}q=g.ub(q,Vp[m.CRITICALITY.DESCRIPTION]);n=m.LOCATION.GEOLOC.ORIGIN;n=new Ln({lat:n.LATITUDE,lng:n.LONGITUDE},{provider:f,icon:q});n.setData(m);k.push(n)}d(k)},\ne,this.i)};Tp.prototype.C=function(){Np.prototype.C.call(this);clearInterval(this.m)};Tp.prototype.dispose=Tp.prototype.C;var Wp=\"A21 A22 F01 F02 F08 F04 F05 F07 F03 F06 A2F F13 A25 A2C F12 D1B F1B A27 E12 A3A A24 A3D A3F F1F F25 F2C E32 A33 F29 D26 D36 F26 D0F F0F F2B E0C D3A A45 D23 D11 F2E F19 F14 F39 A4A A4B A5C D38 F2A F1A D0A F1C A48 D25 D1D F32 A46 A3E D24 E1C E32 A5F D2E D22 D0A\".split(\" \");function Xp(a,b,c,d){Xp.l.constructor.call(this,{min:10,max:21,engineType:d});C(a,Up,Xp,0);this.m=a;this.f=c||Yp;this.f.responseattributes=\"sh,fc\";this.i=setInterval(A(this.reload,this),b||18E4);this.a===ik.WEBGL?this.eb(new qi(uo()+\"/traffic/flow.yaml\"),!0):this.eb(new H.map.render.harp.Style({styles:[{when:[\"==\",[\"geometry-type\"],\"LineString\"],technique:\"solid-line\",renderOrder:10002,attr:{color:[\"case\",[\">=\",[\"get\",\"JF\"],10],\"black\",[\">=\",[\"get\",\"JF\"],8],\"red\",[\">=\",[\"get\",\"JF\"],4],\"yellow\",\"green\"],\nlineWidth:3,metricUnit:\"Pixel\"}}]}))}u(Xp,T);t(\"H.service.traffic.flow.Provider\",Xp);Xp.prototype.Zh=ff;Xp.prototype.providesGeoJSON=Xp.prototype.Zh;Xp.prototype.$=function(){return this.Da()};Xp.prototype.getStyle=Xp.prototype.$;Xp.prototype.jb=function(a){a.b&&a.b(\"GeoJSONTileSource\");this.eb(a)};Xp.prototype.setStyle=Xp.prototype.jb;var Yp={locationreferences:\"tmc,shp\"};Xp.prototype.o=function(){Xp.l.o.call(this);clearInterval(this.i)};\nXp.prototype.D=function(a,b,c,d,e){return this.m.requestFlowByTile(a,b,c,function(f){f.type&&-1!==f.type.indexOf(\"Error\")?e(f.Details):d(f)},e,this.f)};Xp.prototype.requestInternal=Xp.prototype.D;\nXp.prototype.Vb=function(a,b,c,d,e){var f,g,h,k,l={type:\"FeatureCollection\",features:[]},m;var n=d.RWS.length;for(f=0;f<n;f++){var q=d.RWS[f];var r=q.RW;var v=r.length;var w=-1!==Wp.indexOf(q.EXTENDED_COUNTRY_CODE+q.EBU_COUNTRY_CODE);for(q=0;q<v;q++){var z=r[q].FIS;var J=z.length;for(z=0;z<J;z++){var I=r[q].FIS[z].FI;var Q=I.length;for(g=0;g<Q;g++){var S=I[g];var oa=[];var ca=S.CF[0];var jb=!!ca.SSS;var Ma={type:\"Feature\",properties:ca,geometry:{type:\"MultiLineString\",coordinates:oa}};Ma.properties.LHT=\nw;S.SHP.length&&(Ma.properties.FC=S.SHP[0].FC);jb&&(m=[]);for(ca=0;ca<S.SHP.length;ca++){var Qc=S.SHP[ca].value;var Pi=Qc.length;for(h=0;h<Pi;h++){var cf=jb?m:void 0,Zb=new ko(Qc[h].trim()),lg=[],ld={};for(Zb.ee();-1!==(k=Zb.Lb());)k===Zp?(ld.lat=+String.fromCharCode.apply(Xp,Zb.Ed()),Zb.next(),Zb.ee()):k===$p?(ld.lng=+String.fromCharCode.apply(Xp,Zb.Ed()),lg.push([ld.lng,ld.lat]),cf&&cf.push(ng(ld)),ld=[],Zb.next(),Zb.ee()):Zb.next();ld.lng=+String.fromCharCode.apply(Xp,Zb.Ed());lg.push([ld.lng,\nld.lat]);cf&&cf.push(ng(ld));k=lg;oa.push(k)}}l.features.push(Ma)}}}}return Xp.l.Vb.call(this,a,b,c,l,e)};Xp.prototype.createTileInternal=Xp.prototype.Vb;var $p=32,Zp=44;function aq(a){function b(m){d.contains(e)&&d.removeChild(e);l&&clearTimeout(l);delete aq.a[f];m&&a.jj&&a.jj.call(k,m)}if(!a.url||!a.Jg)throw Error('Parameter \"options\" must specify at least a URL and a callback.');if(\"function\"!==typeof a.Jg)throw Error(\"Parameters options.callback must be a function\");var c=a.Qo||document;var d=c.getElementsByTagName(\"head\")[0];var e=c.createElement(\"script\");c=a.url instanceof W?a.url:xp(a.url,a.Po);var f=aq.b++;var g=a.wl||\"callback\";var h=a.Jg;var k={};var l=\nnull;k.id=f;k.cancel=function(){b(\"cancelled\")};0!==a.timeout&&(l=x.setTimeout(function(){b(\"timeout\")},a.timeout||3E4));aq.a[f]=function(m){b();h.call(k,m)};e.type=\"text/javascript\";e.src=c.toString()+(c.Mj()?\"&\":\"?\")+g+\"=\"+(a.Ro?\"H.service.jsonp.handleResponse(\"+f+\")\":encodeURI(\"H.service.jsonp.handleResponse(\"+f+\")\"));d.appendChild(e);return k}t(\"H.service.jsonp\",aq);aq.en=function(a){return(a=aq.a[a])?a:function(){}};aq.handleResponse=aq.en;aq.b=0;aq.a={};function Up(a){Up.l.constructor.call(this,Up,a);this.b=Jp(this,a).callbackKey;tp(Up,\"Use HERE Traffic API v7 instead.\")}u(Up,Ip);t(\"H.service.traffic.Service\",Up);Up.prototype.za=function(){return{subDomain:\"traffic.ls\",path:\"traffic/6.1\",callbackKey:\"jsoncallback\"}};Up.CONFIG_KEY=\"traffic\";Up.prototype.Yi=function(a,b){return new ql(new Xp(this,void 0,a,b),{max:22})};Up.prototype.createFlowLayer=Up.prototype.Yi;Up.prototype.Zi=function(a){return new Mn(new Tp(this,void 0,a))};\nUp.prototype.createIncidentsLayer=Up.prototype.Zi;function bq(a,b,c,d){return aq({url:b,Jg:c,jj:function(e){d(Error(\"[\"+e+\"] \"+b+\" request failed\"))},wl:a.b})}Up.prototype.fo=function(a,b,c){a=this.A().clone().F(\"incidents.json\").G(a);return bq(this,a,b,c)};Up.prototype.requestIncidents=Up.prototype.fo;Up.prototype.co=function(a,b,c,d,e,f){a=this.A().clone().F([\"flow/json\",c,a,b].join(\"/\")).G(f||{});return bq(this,a,d,e)};Up.prototype.requestFlowByTile=Up.prototype.co;\nUp.prototype.io=function(a,b,c,d,e,f){a=this.A().clone().F([\"incidents/json\",c,a,b].join(\"/\")).G(f||{});return bq(this,a,d,e)};Up.prototype.requestIncidentsByTile=Up.prototype.io;X.prototype.ih=function(a,b){b=b||6;if(6===b)b=Up;else if(7===b)b=Mp;else throw new D(this.ih,1,\"allowed values are 6 and 7\");return this.La(b,a)};X.prototype.getTrafficService=X.prototype.ih;function cq(a){cq.l.constructor.call(this,cq,a);this.b=Jp(this,a).reverseSubDomain}u(cq,Ip);t(\"H.service.GeocodingService\",cq);cq.prototype.za=function(){return{subDomain:\"geocoder.ls\",reverseSubDomain:\"reverse\",path:\"6.2\"}};cq.CONFIG_KEY=\"geocoding\";cq.prototype.a=function(a){return Error(a.Details||a.message||a.error)};cq.prototype.Ug=function(a,b,c){a=this.A().clone().F(\"geocode.json\").G(a);return this.D(a,b,c)};cq.prototype.geocode=cq.prototype.Ug;\ncq.prototype.ci=function(a,b,c){a=this.A().clone().F(\"reversegeocode.json\").G(a);this.b&&a.Aa(this.b);return this.D(a,b,c)};cq.prototype.reverseGeocode=cq.prototype.ci;cq.prototype.search=function(a,b,c){a=this.A().clone().F(\"search.json\").G(a);return this.D(a,b,c)};cq.prototype.search=cq.prototype.search;X.prototype.uj=function(a){tp(X.prototype.uj,\"Use H.service.Platform#getSearchService instead\");return this.La(cq,a)};X.prototype.getGeocodingService=X.prototype.uj;function dq(a){dq.l.constructor.call(this,dq,a)}u(dq,Ip);t(\"H.service.PlacesService\",dq);dq.prototype.za=function(){return{subDomain:\"places.ls\",path:\"places/v1\"}};dq.CONFIG_KEY=\"places\";dq.EntryPoint={SEARCH:\"discover/search\",SUGGEST:\"suggest\",EXPLORE:\"discover/explore\",AROUND:\"discover/around\",HERE:\"discover/here\",CATEGORIES:\"categories/places\"};dq.prototype.request=function(a,b,c,d){return eq(this,a,b,c,d)};dq.prototype.request=dq.prototype.request;\nfunction eq(a,b,c,d,e){b=a.A().clone().F(b).G(c||{});return a.D(b,d,e)}dq.prototype.search=function(a,b,c){return eq(this,\"discover/search\",a,b,c)};dq.prototype.search=dq.prototype.search;dq.prototype.to=function(a,b,c){return eq(this,\"suggest\",a,b,c)};dq.prototype.suggest=dq.prototype.to;dq.prototype.Gl=function(a,b,c){return eq(this,\"discover/explore\",a,b,c)};dq.prototype.explore=dq.prototype.Gl;dq.prototype.sl=function(a,b,c){return eq(this,\"discover/around\",a,b,c)};dq.prototype.around=dq.prototype.sl;\ndq.prototype.gn=function(a,b,c){return eq(this,\"discover/here\",a,b,c)};dq.prototype.here=dq.prototype.gn;dq.prototype.xl=function(a,b,c){return eq(this,\"categories/places\",a,b,c)};dq.prototype.categories=dq.prototype.xl;dq.prototype.Hl=function(a,b,c,d){a=xp(a).G(this.A().getQuery()).G(d||{});return this.D(a,b,c)};dq.prototype.follow=dq.prototype.Hl;X.prototype.Cj=function(a){tp(X.prototype.Cj,\"Use H.service.Platform#getSearchService instead\");return this.La(dq,a)};\nX.prototype.getPlacesService=X.prototype.Cj;function fq(){this.a={}}function gq(a,b){for(var c in b)if(b.hasOwnProperty(c)){var d,e=b[c],f=a.a[c]||(a.a[c]=[]),g=e.length;for(d=0;d<g;d++)f.push(new hq(e[d]))}}function Hp(a,b,c,d){var e=(a=a.a[b])?a.length:0,f=[];for(b=0;b<e;b++)a[b].ld(c,d)&&f.push(a[b]);return f}\nfunction hq(a){var b,c=a.boxes;this.label=a.label;this.min=a.minLevel;this.max=a.maxLevel;this.b=[];if(c&&(b=c.length)){var d=c[0];var e=new K(d[0],d[1],d[2],d[3]);this.b.push(e);this.a=new K(d[0],d[1],d[2],d[3]);for(a=1;a<b;a++)d=c[a],e=new K(d[0],d[1],d[2],d[3]),this.b.push(e),this.a.$b(e,!1,this.a)}}hq.prototype.ld=function(a,b){if(a>=this.min&&a<=this.max)if((a=this.b.length)&&this.a){if(this.a.ld(b))for(;a--;)if(this.b[a].ld(b))return!0}else return!0;return!1};function iq(a,b,c){var d=this,e=c||{},f=+e.min,g=+e.max;e.tileSize=e.tileSize||512;e.min=f?Zd(f,1,17):1;e.min+=Nk(e.tileSize,1);e.max=g?Zd(g,1,17):17;iq.l.constructor.call(this,e);C(a,jq,iq,0);C(b,Th,iq,1);this.f=a;b.b&&b.b(\"OMV\");this.eb(b,!0);this.i=!1;c&&(c.politicalView&&(this.m=c.politicalView),kq(this,c.lg,c.lg2),this.i=!!c.pois);this.W=function(){d.K=rp(d);d.reload(!1)};a.addEventListener(\"versionupdate\",this.W);this.K=rp(this);iq.prototype.ua=function(){var h=/^v2\\/vectortiles\\/(.+)\\/mc$/.exec(a.A().b);\nreturn h?h[1]:B+\"\"}()}u(iq,T);t(\"H.service.omv.Provider\",iq);iq.prototype.yc=ff;iq.prototype.providesOMV=iq.prototype.yc;iq.prototype.rb=function(a){return this.K.test(a)};iq.prototype.cacheFilter=iq.prototype.rb;iq.prototype.qc=function(a,b,c){return lq(this.f,a,b,c).toString()};iq.prototype.getTileKey=iq.prototype.qc;iq.prototype.lb=function(){return this.va};iq.prototype.getCache=iq.prototype.lb;iq.prototype.Em=function(){return this.m};iq.prototype.getPoliticalView=iq.prototype.Em;\niq.prototype.mo=function(a){var b=this.m;this.m=a;this.dispatchEvent(new aj(\"politicalviewchange\",this.m,b))};iq.prototype.setPoliticalView=iq.prototype.mo;iq.prototype.MAX_STORE_TIME=2592E6;iq.prototype.j=function(){return nd()};iq.prototype.c=function(){return nd()?md():iq.l.c.call(this)};iq.prototype.ra=function(){return this.f};iq.prototype.D=function(a,b,c,d,e){return this.f.Ga(a,b,c,d,e)};iq.prototype.requestInternal=iq.prototype.D;iq.prototype.jb=function(a){a.b&&a.b(\"OMV\");this.eb(a)};\niq.prototype.setStyle=iq.prototype.jb;iq.prototype.$=function(){return iq.l.Da.apply(this)};iq.prototype.getStyle=iq.prototype.$;iq.prototype.Da=function(){var a=iq.l.Da.apply(this),b=a.getState()===Uh.READY,c=a.mc();b?c&&c.global&&(this.u&&(this.S&&(c.global.ux_language=this.S),this.N&&(c.global.ux_language_fallback=this.N)),this.i&&c.global.poi&&c.global.poi[\"default\"]&&(c.global.poi[\"default\"].visible=this.i),this.u||this.i)&&(a=new qi(c,a.Fb())):a.load();return a};\niq.prototype.getStyleInternal=iq.prototype.Da;function kq(a,b,c){var d=Ac(b),e=Ac(c);d&&(a.S=b);e&&(a.N=c);if(d||e)a.B=[],d=/^([a-zA-Z]{2})(-|$)/,(b=d.exec(b))&&a.B.push(b[1]),(b=d.exec(c))&&a.B.push(b[1]),a.u=!0}iq.prototype.u=!1;var mq=[\"en\"];iq.prototype.bh=function(){return this.B||mq};iq.prototype.getLanguages=iq.prototype.bh;iq.prototype.o=function(){iq.l.o.call(this);this.f.removeEventListener(\"versionupdate\",this.W)};iq.prototype.va=new Pk(256);\niq.prototype.aa=function(a,b){return Hp(this.f.aa(),this.ua,b,a)};iq.prototype.getCopyrights=iq.prototype.aa;function jq(a){jq.l.constructor.call(this,jq,a);a=Jp(this,a).mapVersion;this.b=uc(a)?a:nq[this.A().toString()];uc(this.b)||oq(this)}u(jq,Ip);t(\"H.service.omv.Service\",jq);jq.prototype.za=function(){return{subDomain:\"vector\",path:\"v2/vectortiles/base/mc\"}};jq.CONFIG_KEY=\"omv\";var nq={};Gc(nq);jq.prototype.vm=function(){return this.b};jq.prototype.getMapVersion=jq.prototype.vm;\nfunction oq(a){a.D(a.A().clone().F(\"../../info\"),function(b){b=b.mapVersion;var c=a.A().toString();a.b=b;b!==nq[c]&&(nq[c]=b,a.dispatchEvent(\"versionupdate\"))},function(){})}jq.prototype.ic=function(a,b,c){b=b||{};var d={min:0,max:22};Ea(c)&&sp(d,c);Gn&&(b.min=d.min=4);return new ql(new iq(this,a,b),d)};jq.prototype.createLayer=jq.prototype.ic;jq.prototype.Ga=function(a,b,c,d,e){return this.D(lq(this,a,b,c),function(f){return f.arrayBuffer().then(d,e)},e,\"arraybuffer\")};\nfunction lq(a,b,c,d){b=a.A().clone().F(d+\"/\"+b+\"/\"+c+\"/omv\");uc(a.b)&&b.G({mv:a.b});return b}jq.prototype.Ge=function(a,b){if(!Da(a))throw new D(this.Ge,0,'\"onResult\" must be a function');if(!Da(b))throw new D(this.Ge,1,'\"onError\" must be a function');return this.D(this.A().clone().ud(\"v2/vectortiles/pviews\"),a,b)};jq.prototype.getPoliticalViews=jq.prototype.Ge;X.prototype.Ee=function(a){return this.La(jq,a)};X.prototype.getOMVService=X.prototype.Ee;jq.prototype.f=function(a){gq(this.c,a);this.dispatchEvent(\"copyrightupdate\")};\njq.prototype.aa=function(){this.c||(this.c=new fq,this.D(this.A().clone().F(\"../../copyrights\"),A(this.f,this),jd));return this.c};jq.prototype.getCopyrights=jq.prototype.aa;function pq(a){pq.l.constructor.call(this,pq,a);this.b=a.getToken}u(pq,Ip);t(\"H.service.iml.Service\",pq);pq.prototype.za=function(){return{host:\"interactive.data.api.platform.here.com\",path:\"interactive/v1/catalogs\"}};\npq.prototype.a=function(a){function b(){for(var d=fa(c),e=d.next();!e.done;e=d.next()){e=e.value;var f=e.format;if(e.keys.every(function(g){return a[g]}))return f()}return JSON.stringify(a)}var c=[{keys:[\"code\",\"title\",\"cause\",\"action\"],format:function(){return a.code+\": \"+a.title+\"; cause: \"+a.cause+\"; action: \"+a.action}},{keys:[\"error\",\"error_description\"],format:function(){return a.error+\": \"+a.error_description}},{keys:[\"error\",\"errorMessage\"],format:function(){return a.error+\": \"+a.errorMessage}}];\nreturn Error(Ea(a)?b():a)};pq.prototype.Pd=function(a,b,c,d,e){var f=this.Pd;qq(f,0,a,b);rq(f,2,c,d);a=this.A().clone().F(a+\"/layers/\"+b+\"/statistics\").G(e||{});return sq(this,a,\"GET\",c,d)};pq.prototype.getStatistics=pq.prototype.Pd;pq.prototype.Bf=function(a,b,c,d,e,f,g,h,k){var l=k?\"\":\".mvtf\";a=this.A().clone().F(d+\"/layers/\"+e+\"/tile/web/\"+c+\"_\"+a+\"_\"+b+l).G(Object.assign({clip:!0},h));return sq(this,a,\"GET\",k?f:function(m){return m.arrayBuffer().then(f)},g,void 0,k?\"application/json\":\"arraybuffer\")};\npq.prototype.getFeaturesByTile=pq.prototype.Bf;pq.prototype.rj=function(a,b,c,d,e,f){var g=this.rj;tq(g,a);qq(g,1,b,c);rq(g,3,d,e);a=uq(this,a,b,c,f);return sq(this,a,\"GET\",d,e)};pq.prototype.getFeatureById=pq.prototype.rj;pq.prototype.Qc=function(a,b,c,d,e,f){var g=this.Qc;vq(g,a);qq(g,1,b,c);rq(g,3,d,e);a=wq(this,a,b,c,f);return sq(this,a,\"GET\",d,e)};pq.prototype.getFeaturesById=pq.prototype.Qc;\npq.prototype.Id=function(a,b,c,d,e){var f=this.Id;if(!Ea(a)||!(a.bbox||a.north&&a.east&&a.south&&a.west))throw new D(f,0,'must be an object with either \"bbox\" or a full set of \"north\", \"east\", \"south\" and \"west\"');qq(f,1,b,c);rq(f,3,d,e);a=this.A().clone().F(b+\"/layers/\"+c+\"/bbox\").G(a);return sq(this,a,\"GET\",d,e)};pq.prototype.getFeaturesByBoundingBox=pq.prototype.Id;\npq.prototype.tj=function(a,b,c,d,e){var f=this.tj;if(!(Ea(a)&&a.radius&&(a.lat&&(a.lng||a.lon)||a.refCatalogHrn&&a.refLayerId&&a.refFeatureId)))throw new D(f,0,'must be an object with \"radius\" and a combination of either \"lat\"+\"lng\" or \"refCatalogHrn\"+\"refLayerId\"+\"refFeatureId\"');qq(f,1,b,c);rq(f,3,d,e);a=this.A().clone().F(b+\"/layers/\"+c+\"/spatial\").G(a);return sq(this,a,\"GET\",d,e)};pq.prototype.getFeaturesByPointAndRadius=pq.prototype.tj;\npq.prototype.sj=function(a,b,c,d,e,f){var g=this.sj;if(!Ea(a)||!a.radius)throw new D(g,0,'must be an object with \"radius\"');xq(g,1,b);qq(g,2,c,d);rq(g,4,e,f);a=this.A().clone().F(c+\"/layers/\"+d+\"/spatial\").G(a);return sq(this,a,\"POST\",e,f,b)};pq.prototype.getFeaturesByGeometryAndRadius=pq.prototype.sj;pq.prototype.Lk=function(a,b,c,d,e){var f=this.Lk;qq(f,0,a,b);rq(f,2,c,d);a=this.A().clone().F(a+\"/layers/\"+b+\"/search\").G(e||{});return sq(this,a,\"GET\",c,d)};pq.prototype.searchFeatures=pq.prototype.Lk;\npq.prototype.Xj=function(a,b,c,d,e){var f=this.Xj;qq(f,0,a,b);rq(f,2,c,d);a=this.A().clone().F(a+\"/layers/\"+b+\"/iterate\").G(e||{});return sq(this,a,\"GET\",c,d)};pq.prototype.iterateFeatures=pq.prototype.Xj;pq.prototype.Yc=function(a,b,c,d,e,f){var g=this.Yc;xq(g,0,a);qq(g,1,b,c);rq(g,3,d,e);b=zq(this,b,c,f);return sq(this,b,\"PUT\",d,e,a)};pq.prototype.putFeatures=pq.prototype.Yc;\npq.prototype.Wc=function(a,b,c,d,e,f){var g=this.Wc;xq(g,0,a);qq(g,1,b,c);rq(g,3,d,e);b=zq(this,b,c,f);return sq(this,b,\"POST\",d,e,a)};pq.prototype.postFeatures=pq.prototype.Wc;pq.prototype.fd=function(a,b,c,d,e){var f=this.fd;vq(f,a);qq(f,1,b,c);rq(f,3,d,e);a=wq(this,a,b,c);return sq(this,a,\"DELETE\",d,e)};pq.prototype.deleteFeatures=pq.prototype.fd;pq.prototype.Ek=function(a,b,c,d,e,f,g){var h=this.Ek;tq(h,a);xq(h,1,b);qq(h,2,c,d);rq(h,4,e,f);a=uq(this,a,c,d,g);return sq(this,a,\"PUT\",e,f,b)};\npq.prototype.putFeature=pq.prototype.Ek;pq.prototype.yk=function(a,b,c,d,e,f,g){var h=this.yk;tq(h,a);xq(h,1,b);qq(h,2,c,d);rq(h,4,e,f);a=uq(this,a,c,d,g);return sq(this,a,\"PATCH\",e,f,b)};pq.prototype.patchFeature=pq.prototype.yk;pq.prototype.cj=function(a,b,c,d,e){var f=this.cj;tq(f,a);qq(f,1,b,c);rq(f,3,d,e);a=uq(this,a,b,c);return sq(this,a,\"DELETE\",d,e,void 0,\"text/plain\")};pq.prototype.deleteFeature=pq.prototype.cj;\nfunction zq(a,b,c,d){return a.A().clone().F(b+\"/layers/\"+c+\"/features\").G(d||{})}function wq(a,b,c,d,e){b=Object.assign({},e,{id:new Bp(b)});return zq(a,c,d,b)}function uq(a,b,c,d,e){return a.A().clone().F(c+\"/layers/\"+d+\"/features/\"+b).G(e||{})}\nfunction sq(a,b,c,d,e,f,g){g=void 0===g?\"application/json\":g;c={method:c,headers:Object.assign({},f?{\"Content-Type\":\"application/geo+json\"}:void 0,\"function\"===typeof a.b?{Authorization:\"Bearer \"+a.b()}:void 0,a.g)};f&&(c.data=JSON.stringify(f));f=new tf(g,b.toString(),he,c);f.then(d,Kp(a,b,e));return f}pq.CONFIG_KEY=\"iml\";function qq(a,b,c,d){xc(c,\"String\",a,b,\"must be a string\");xc(d,\"String\",a,b+1,\"must be a string\")}function tq(a,b){xc(b,\"String\",a,0,\"must be a string\")}\nfunction vq(a,b){if(!Array.isArray(b)||0===b.length||b.some(function(c){return\"string\"!==typeof c}))throw new D(a,0,\"must be a non-empty array of strings\");}function xq(a,b,c){if(!Ea(c))throw new D(a,b,\"must be a GeoJSON object\");}function rq(a,b,c,d){if(!Da(c))throw new D(a,b,\"must be a function\");if(!Da(d))throw new D(a,b+1,\"must be a function\");}X.prototype.lm=function(a){return this.La(pq,a)};X.prototype.getIMLService=X.prototype.lm;function Aq(a,b,c,d){Aq.l.constructor.call(this,d?{min:d.min,max:d.max,engineType:d.engineType}:void 0);C(a,pq,Aq,0);if(!Ac(b))throw new D(Aq,1,'\"catalogHrn\" must be a string');if(!Ac(c))throw new D(Aq,2,'\"layerId\" must be a string');this.u=a;this.f=b;this.i=c;this.m=Ea(d)&&Ea(d.parameters)?d.parameters:{};this.eb(this.a===ik.WEBGL?new qi({sources:{iml:{type:\"MVT\"}},layers:{iml:{data:{source:\"iml\",layer:this.f+\":\"+this.i},points:{filter:{$geometry:\"point\"},draw:{points:{collide:!1,order:200,color:\"#92CF48\",\nsize:[[10,\"8px\"],[14,\"12px\"],[18,\"16px\"]]}}},polygons:{filter:{$geometry:\"polygon\"},draw:{polygons:{order:201,color:\"#E39E3C\"},lines:{order:202,color:\"#755DA5\",width:\"1px\"}}},lines:{filter:{$geometry:\"line\"},draw:{lines:{order:203,color:\"#0258AE\",width:\"2px\",join:\"round\",cap:\"round\"}}}}}}):new H.map.render.harp.Style({styles:[{layer:this.f+\":\"+this.i,when:[\"==\",[\"geometry-type\"],\"Point\"],technique:\"circles\",renderOrder:200,color:\"#92CF48\",size:[\"interpolate\",[\"linear\"],[\"zoom\"],10,8,14,12,18,16]},\n{layer:this.f+\":\"+this.i,when:[\"==\",[\"geometry-type\"],\"Polygon\"],technique:\"fill\",color:\"#E39E3C\",renderOrder:201},{layer:this.f+\":\"+this.i,when:[\"==\",[\"geometry-type\"],\"Polygon\"],technique:\"solid-line\",color:\"#755DA5\",lineWidth:\"1px\",renderOrder:202},{layer:this.f+\":\"+this.i,when:[\"==\",[\"geometry-type\"],\"LineString\"],technique:\"solid-line\",color:\"#0258AE\",lineWidth:\"2px\",renderOrder:203}]}))}u(Aq,T);t(\"H.service.iml.Provider\",Aq);\nAq.prototype.D=function(a,b,c,d,e){return this.u.Bf(a,b,c,this.f,this.i,d,e,this.m)};Aq.prototype.requestInternal=Aq.prototype.D;Aq.prototype.yc=ff;Aq.prototype.providesOMV=Aq.prototype.yc;Aq.prototype.$=function(){return this.Da()};Aq.prototype.getStyle=Aq.prototype.$;Aq.prototype.jb=function(a){C(a,qi)&&a.b(\"MVT\");this.eb(a)};Aq.prototype.setStyle=Aq.prototype.jb;function Gp(a){a=void 0===a?{}:a;Gp.l.constructor.call(this,Gp,a);this.b={gg:a.resource||\"base\",Yf:a.projection||\"mc\",format:a.format||\"png8\"};this.f=a.queryParams||{}}u(Gp,Ip);t(\"H.service.rasterTile.Service\",Gp);p=Gp.prototype;p.$=function(){return this.f.style||\"explore.day\"};p.za=function(){return{subDomain:\"maps\",path:\"v3\"}};p.aa=function(){this.c||(this.c=new fq,this.D(this.A().clone().F(\"copyright\"),A(this.Bn,this),jd));return this.c};\np.Bn=function(a){var b=a.copyrights;a=a.resources;var c={},d=this.b.gg+\".\"+this.$();c[d]=[];a[this.b.gg].styles[this.$()].forEach(function(e){b[e].forEach(function(f){var g=[];f.boundingBoxes.forEach(function(h){g.push([h.north,h.west,h.south,h.east])});c[d].push({boxes:g,label:f.label,alt:f.alt,minLevel:f.minLevel,maxLevel:f.maxLevel})})});gq(this.c,c)};p.Ce=function(a,b){return this.D(this.A().clone().F(\"info\"),a,b)};Gp.prototype.getInfo=Gp.prototype.Ce;\nGp.prototype.Ge=function(a,b){return this.D(this.A().clone().F(\"politicalViews\"),a,b)};Gp.prototype.getPoliticalViews=Gp.prototype.Ge;Gp.prototype.hm=function(a,b){return this.D(this.A().clone().F(\"features\"),a,b)};Gp.prototype.getFeatures=Gp.prototype.hm;Gp.prototype.bh=function(a,b){return this.D(this.A().clone().F(\"languages\"),a,b)};Gp.prototype.getLanguages=Gp.prototype.bh;Gp.CONFIG_KEY=\"rasterTile\";X.prototype.gh=function(a){return this.La(Gp,a)};X.prototype.getRasterTileService=X.prototype.gh;function Bq(a,b,c,d,e,f,g){var h=this;g=g||{};f=f?f:{};var k=a.A().clone().F(b+\"/\"+a.rc()+\"/\"+c).G(f),l=a.c;this.B=a;this.K=k;Ck.call(this,{tileSize:d,max:512===d?19:20,min:512===d?2:0,getURL:function(m,n,q){var r=h.K.clone();l&&r.Aa(l[(q+n+m)%l.length]);r.F(q+\"/\"+m+\"/\"+n+\"/\"+d+\"/\"+e);return r.toString()},crossOrigin:g.crossOrigin,headers:g.headers,uri:k.toString().replace(/_/g,\"\")+d,engineType:g.engineType});this.Za=b;this.va=c;this.ua=f;this.W=c.split(\".\")[0];this.i=A(this.i,this);this.getCopyrights=\nthis.aa;a.addEventListener(\"versionupdate\",this.i)}u(Bq,Ck);Bq.prototype.MAX_STORE_TIME=2592E6;Bq.prototype.o=function(){Ck.prototype.o.call(this);this.B.removeEventListener(\"versionupdate\",this.i)};Bq.prototype.aa=function(a,b){return Hp(this.B.aa(),this.W,b,a)};Bq.prototype.getCopyrights=Bq.prototype.aa;Bq.prototype.i=function(){var a=this.B;this.K=a.A().clone().F(this.Za+\"/\"+a.rc()+\"/\"+this.va).G(this.ua);this.reload(!1)};Bq.prototype.j=function(){return nd()};\nBq.prototype.c=function(){return nd()?md():Bq.l.c.call(this)};function Cq(a){Cq.l.constructor.call(this,Cq,a);a=Jp(this,a);this.c=a.shards;(this.f=a.ignoreTypes?null:a.type)&&this.A().Aa(this.f);this.b=a.version;this.m=new fq;this.s={};this.j=0;\"newest\"===this.b&&Dq(this);tp(Cq,\"Use HERE Vector Tile API or Raster Tile API v3 instead.\")}u(Cq,Ip);t(\"H.service.MapTileService\",Cq);Cq.prototype.za=function(){return{subDomain:\"maps.ls\",path:\"maptile/2.1\",type:\"base\",version:\"newest\",shards:[\"1\",\"2\",\"3\",\"4\"]}};Cq.CONFIG_KEY=\"maptile\";\nfunction Eq(a,b){for(var c={},d=a[b+\"s\"][b],e=d.length;e--;)c[d[e].id]=d[e];a[b+\"s\"]=c}Cq.prototype.Gj=function(){return this.f};Cq.prototype.getType=Cq.prototype.Gj;Cq.prototype.rc=function(){return this.b};Cq.prototype.getVersion=Cq.prototype.rc;Cq.prototype.aa=function(){this.j||(this.b&&\"newest\"!==this.b||\"traffic\"===this.f)&&Fq(this);return this.m};Cq.prototype.getCopyrights=Cq.prototype.aa;\nfunction Dq(a){var b=a.A().clone().F(\"info\").G({output:\"json\"});a.c&&b.Aa(a.c[0]);a.D(b,function(c){c=c.response;var d;Eq(c,\"map\");Eq(c,\"scheme\");Eq(c,\"tiletype\");Eq(c,\"format\");Eq(c,\"resolution\");Eq(c,\"language\");if(\"newest\"===a.b&&\"traffic\"!==a.f)for(d in c.maps)c.maps[d].hash&&c.maps[d].newest&&(a.b=c.maps[d].hash,a.dispatchEvent(\"versionupdate\"));a.u=c;a.dispatchEvent(\"infoupdate\")},function(c){throw c;})}\nfunction Fq(a){var b=a.A().clone().F(\"copyright\").F(a.rc()).G({output:\"json\"});a.c&&b.Aa(a.c[0]);a.j=1;a.D(b,function(c){a.j=2;gq(a.m,c);a.dispatchEvent(\"copyrightupdate\")},function(c){a.j=-1;throw c;})}Cq.prototype.Ce=function(){return this.u};Cq.prototype.getInfo=Cq.prototype.Ce;\nCq.prototype.re=function(a,b,c,d,e,f){var g=this.A().clone().F(a+\"/\"+this.rc()+\"/\"+b+\"/\"+c+\"/\"+d).G(e?e:{}).toString();var h=0,k,l=g.length;if(0!==l)for(k=0;k<l;k++){var m=g.charCodeAt(k);h=(h<<5)-h+m;h|=0}g=h;h=this.s[g];h||(h=new Bq(this,a,b,c,d,e,sp({headers:this.g},f||{})),this.s[g]=h);return h};Cq.prototype.createTileProvider=Cq.prototype.re;Cq.prototype.jc=function(a,b,c,d,e,f,g,h){a=this.re(a,b,c,d,e,h);return new ql(a,{opacity:f,dark:!!g})};Cq.prototype.createTileLayer=Cq.prototype.jc;\nX.prototype.dh=function(a){return this.La(Cq,a)};X.prototype.getMapTileService=X.prototype.dh;function Gq(a){Gq.l.constructor.call(this,Gq,a)}u(Gq,Ip);t(\"H.service.publicTransit.Service\",Gq);Gq.prototype.za=function(){return{subDomain:\"transit.router\",path:\"v8\"}};Gq.CONFIG_KEY=\"publicTransit\";Gq.prototype.Mm=function(a,b,c){a=this.A().clone().F(\"routes\").G(a);return this.D(a,b,c)};Gq.prototype.getRoutes=Gq.prototype.Mm;Gq.prototype.Zl=function(a,b,c){a=this.A().clone().F(\"departures\").G(a);return this.D(a,b,c)};Gq.prototype.getDepartures=Gq.prototype.Zl;\nGq.prototype.Qm=function(a,b,c){a=this.A().clone().F(\"stations\").G(a);return this.D(a,b,c)};Gq.prototype.getStations=Gq.prototype.Qm;Gq.prototype.a=function(a){return Error(JSON.stringify(a))};X.prototype.Im=function(a){return this.La(Gq,a)};X.prototype.getPublicTransitService=X.prototype.Im;function Hq(a){Hq.l.constructor.call(this,Hq,a);tp(Hq,\"Use HERE Routing API v8 instead.\")}u(Hq,Ip);t(\"H.service.RoutingService\",Hq);Hq.prototype.za=function(){return{subDomain:\"route.ls\",path:\"routing/7.2\"}};Hq.prototype.a=function(a){return Error(a.details)};Hq.CONFIG_KEY=\"routing\";Hq.prototype.Ad=function(a,b,c){a=this.A().clone().F(\"calculateroute.json\").G(a);return this.D(a,b,c)};Hq.prototype.calculateRoute=Hq.prototype.Ad;\nHq.prototype.Ig=function(a,b,c){a=this.A().clone().Aa(\"isoline\").F(\"calculateisoline.json\").G(a);return this.D(a,b,c)};Hq.prototype.calculateIsoline=Hq.prototype.Ig;function Iq(a){Iq.l.constructor.call(this,Iq,a)}u(Iq,Ip);t(\"H.service.RoutingService8\",Iq);Iq.CONFIG_KEY=\"routing_v8\";Iq.prototype.za=function(){return{subDomain:\"router\",path:\"v8/routes\"}};Iq.prototype.a=function(a){return Error(a.error)};Iq.prototype.Ad=function(a,b,c){a=this.A().clone().G(a);return this.D(a,b,c)};Iq.prototype.calculateRoute=Iq.prototype.Ad;Iq.prototype.Ig=function(a,b,c){a=this.A().clone().Aa(\"isoline\").ud(\"v8/isolines\").G(a);return this.D(a,b,c)};\nIq.prototype.calculateIsoline=Iq.prototype.Ig;X.prototype.Ej=function(a,b){b=Gn?8:+b||7;if(7===b)b=Hq;else if(8===b)b=Iq;else throw new D(this.Ej,1,\"allowed values are 7 and 8\");return this.La(b,a)};X.prototype.getRoutingService=X.prototype.Ej;function Jq(){}t(\"H.service.extension.dataView.ITable\",Jq);Jq.prototype.Ld=function(){};Jq.prototype.getMeta=Jq.prototype.Ld;Jq.prototype.Od=function(){};Jq.prototype.getRowCount=Jq.prototype.Od;Jq.prototype.pc=function(){};Jq.prototype.getRow=Jq.prototype.pc;Jq.prototype.Qa=function(){};Jq.prototype.getColumnNames=Jq.prototype.Qa;Jq.prototype.ye=function(){};Jq.prototype.getColumn=Jq.prototype.ye;Jq.prototype.sa=function(){};Jq.prototype.getCell=Jq.prototype.sa;Jq.prototype.concat=function(){};\nJq.prototype.concat=Jq.prototype.concat;function Kq(){}t(\"H.service.extension.dataView.IRow\",Kq);Kq.prototype.Qa=function(){};Kq.prototype.getColumnNames=Kq.prototype.Qa;Kq.prototype.sa=function(){};Kq.prototype.getCell=Kq.prototype.sa;Kq.prototype.kd=function(){};Kq.prototype.getTable=Kq.prototype.kd;function Lq(a,b){this.a=a;this.b=b}t(\"H.service.extension.dataView.ObjRow\",Lq);Lq.prototype.Qa=function(){return this.a.Qa()};Lq.prototype.getColumnNames=Lq.prototype.Qa;Lq.prototype.sa=function(a){return this.a.sa(this.b,a)};Lq.prototype.getCell=Lq.prototype.sa;Lq.prototype.kd=function(){return this.a};Lq.prototype.getTable=Lq.prototype.kd;function Mq(){}t(\"H.service.extension.dataView.IColumn\",Mq);Mq.prototype.sa=function(){};Mq.prototype.getCell=Mq.prototype.sa;function Nq(a,b){this.b=a;this.a=b}t(\"H.service.extension.dataView.ObjColumn\",Nq);Nq.prototype.sa=function(a){return this.b.sa(a,this.a)};Nq.prototype.getCell=Nq.prototype.sa;function Oq(a,b,c){var d;b=b||(a&&a.length?Object.keys(a[0]):B);this.zb=a;if(b)for(this.Bd=b,this.Kg=a=nc(),d=b.length;d--;)a[b[d]]=!0;c!==B&&(this.Mh=c)}t(\"H.service.extension.dataView.ObjTable\",Oq);p=Oq.prototype;p.Mh=B;p.zb=B;p.Bd=B;p.Kg=B;p.Ld=function(){return this.Mh};Oq.prototype.getMeta=Oq.prototype.Ld;Oq.prototype.Od=function(){return this.zb?this.zb.length:0};Oq.prototype.getRowCount=Oq.prototype.Od;Oq.prototype.pc=function(a){var b=this.zb;return b&&b[a]?new Lq(this,a):B};\nOq.prototype.getRow=Oq.prototype.pc;Oq.prototype.Qa=function(){return this.Bd||hf};Oq.prototype.getColumnNames=Oq.prototype.Qa;Oq.prototype.ye=function(a){return this.Kg[a]?new Nq(this,a):B};Oq.prototype.getColumn=Oq.prototype.ye;Oq.prototype.sa=function(a,b){var c=this.zb;return(a=c&&this.Kg[b]&&c[a])&&a[b]};Oq.prototype.getCell=Oq.prototype.sa;\nOq.prototype.concat=function(){var a=arguments.length,b,c=this.Bd,d=\"\"+this.Bd,e=(this.zb||[]).slice();for(b=0;b<a;b++){var f=arguments[b];if(!(f instanceof Oq))throw new D(this.concat,b);if(f.zb){if(c&&\"\"+f.Bd!==d)throw new D(this.concat,b,\"Incompatible columns!\");e=e.concat(f.zb)}}return new Oq(e,this.Bd,this.Mh)};Oq.prototype.concat=Oq.prototype.concat;function Pq(a,b){a.zb?a.zb.push(b):a.zb=[b];return a.zb.length-1};function Qq(a){var b=Rq;if(!a||!Ac($e(a.layerId,a.layer))||!Dc(a.level)||uc(a.rowFilter)&&!Da(a.rowFilter)||uc(a.rowFilterContext)&&!Ea(a.rowFilterContext))throw new D(b,1,uc(\"invalid layer config\")?\"invalid layer config\":a);};function Sq(a,b,c,d){d=d||Tq;this.a={};d.provider=a;this.invalidate=gf;Sq.l.constructor.call(this,b,d);delete this.invalidate;c&&(this.b=c);this.oa(kh.ADD)}u(Sq,Eh);t(\"H.service.remote.Spatial\",Sq);var Tq={};Sq.prototype.ab=function(){return this.b||Eh.prototype.ab.call(this)};Sq.prototype.getId=Sq.prototype.ab;Sq.prototype.hg=jd;Sq.prototype.retain=Sq.prototype.hg;Sq.prototype.release=ff;Sq.prototype.release=Sq.prototype.release;function Uq(a,b){this.a=a;b&&(this.b=b)}var Vq=new Uq(hf);\nSq.prototype.Jd=function(a){return(this.a[a.key]||Vq).a};Sq.prototype.getGeometriesForTile=Sq.prototype.Jd;Sq.prototype.ah=function(a){return(this.a[a.key]||Vq).b};Sq.prototype.getLabels=Sq.prototype.ah;function Wq(a,b,c){a.a[b.key]=new Uq(c,void 0)};function Xq(a,b,c,d){if(!Da(c))throw new D(a,b,\"has invalid type\");if(!Da(d))throw new D(a,b+1,\"has invalid type\");};function Yq(a,b,c){var d=8===a;this.b=b;this.c=c||jd;(this.a=4===a||d)?this.j=d:this.g=1===a;this.f=this.a?\"$HProjGeometry\":\"geometry\"}\nYq.prototype.parse=function(a,b,c){var d,e,f={},g=[],h,k;var l=0;for(h=c.length;l<h;l++){var m=c[l];var n=m.Rows;if(m=n.length){var q=Object.keys(n[0]).filter(function(v){return\"geometry\"!==v&&\"$HProjGeometry\"!==v});q=new Oq(n,q);for(k=0;k<m;k++){var r=n[k];if(e=r[this.f]){if(delete r[this.f],r=q.pc(k))try{this.a?d=Zq(this,a,b,r,e):d=$q(this,a,r,e.path),d.ha(a),g.push(d)}catch(v){this.c(v.message)}}else this.c(\"Layer must contain geometries\")}}}f[this.a?\"spatials\":this.g?\"markers\":\"domMarkers\"]=\ng;return f};function Zq(a,b,c,d,e){var f=[],g=e.paths,h=g.length,k=0,l=a.b&&a.b(d);for(a=new Sq(b,a.j,B,{style:l||a.i,data:d});k!==h;)f.push(ar(g[k++]));Wq(a,c,[new Mh(f,e.interiorsIndex,e.outlinesIndex)]);return a}function $q(a,b,c,d){d=new kg(d[0],d[1]);var e=a.b&&a.b(c);a.g?(a={icon:e,data:c,provider:b},a=new Ln(d,a)):(a={icon:e,data:c,provider:b},a=new $i(d,a));return a}function ar(a){for(var b=0,c=a.length,d=[];b<c;)d.push(new G(a[b++],a[b++]));return d};function br(a,b){var c={};this.c=a;Ya(c,b||c);mk.call(this,c);this.bg={};a=this.Hb(nh.SPATIAL);a.update(a.a+1,kh.ADD)}u(br,mk);t(\"H.service.remote.ObjectProvider\",br);br.prototype.C=function(){mk.prototype.C.call(this)};br.prototype.dispose=br.prototype.C;br.prototype.Bc=function(){return hf};br.prototype.requestMarkers=br.prototype.Bc;br.prototype.Ac=function(){return hf};br.prototype.requestDomMarkers=br.prototype.Ac;br.prototype.qd=function(){return hf};br.prototype.requestOverlays=br.prototype.qd;\nbr.prototype.Nb=ff;br.prototype.providesMarkers=br.prototype.Nb;br.prototype.Mb=ff;br.prototype.providesDomMarkers=br.prototype.Mb;br.prototype.zc=ff;br.prototype.providesSpatials=br.prototype.zc;br.prototype.dg=function(){return hf};br.prototype.requestSpatials=br.prototype.dg;function cr(a){return a.sc(!0)}br.prototype.eg=function(a,b){a=dr(this,a,er);b&&(a=a.filter(cr));return a};br.prototype.requestSpatialsByTile=br.prototype.eg;\nfunction dr(a,b,c){var d=b.j&&b.j[c],e;!d&&(e=b.m)&&(delete b.m,(b.j=a=a.c.parse(a,b,e))&&(d=a[c]));return d||hf}br.prototype.ca=function(a){var b=a.ab();if(this.bg[b])throw new Zc(this.ca,\"Remote object \"+b+\" already added\");return this.bg[b]=a};br.prototype.Fa=function(a){delete this.bg[a.ab()]};var er=\"spatials\";function fr(a){a=a||{};var b=a.tileCacheSize||1024,c=a.resultType,d=a.styleCallback;uc(a.min)||(a.min=12);fr.l.constructor.call(this,a);if(-1===gr.indexOf(c))throw new D(fr,2,\"invalid resultType\");this.f=c;if(d&&!Da(d))throw new D(fr,2,\"invalid style callback\");this.W=d;this.S=a.pixelRatio||Te();this.Db=A(this.Db,this);this.s(new Pk(b,A(this.Za,this)));this.createTileInternal=4===c||8===c?A(this.K,this):A(this.N,this)}u(fr,T);t(\"H.service.extension.TileProvider\",fr);fr.prototype.i=!1;\nfr.prototype.getCapabilities=function(){return fr.l.getCapabilities.call(this)|Oj.CROP_LINES_BY_TILE|Oj.CROP_POLYGONS_BY_TILE};fr.prototype.Ga=function(a,b,c,d){return this.i?fr.l.Ga.call(this,a,b,c,d):B};fr.prototype.requestTile=fr.prototype.Ga;fr.prototype.Db=function(a){this.dispatchEvent(new ud(\"error\",Ac(a)?a:a+\"\",this))};fr.prototype.Nb=function(){return 1===this.f};fr.prototype.providesMarkers=fr.prototype.Nb;fr.prototype.Mb=function(){return 2===this.f};fr.prototype.providesDomMarkers=fr.prototype.Mb;\nfr.prototype.zc=function(){return 4===this.f||8===this.f};fr.prototype.providesSpatials=fr.prototype.zc;function hr(a){var b=a.ua;b||(a.u||(a.u=a.m(a.f,a.W,a.Db)),b=a.ua=new br(a.u),b.ha(a),b.addEventListener(a.v.ya,A(a.va,a)),b.ua=!0);return b}\nfr.prototype.N=function(a,b,c,d){var e=this.getTileKey(a,b,c);e=this.lb().get(e);var f=2==this.f,g=[],h=hr(this);e?e.valid=!0:(a=e=new Vk(a,b,c,y),delete a.j,a.m=d);d=f?dr(h,e,\"domMarkers\"):dr(h,e,\"markers\");for(b=d.length;b--;)a=d[b],a.Ci=e,(f||1===a.ub().getState())&&g.push(a);e.data=g;return e};fr.prototype.va=function(a){if(a=a.target.Ci)a.valid=!1};fr.prototype.oo=function(a){this.B=!!a};fr.prototype.setTileCanvasRendering=fr.prototype.oo;fr.prototype.B=!0;\nfr.prototype.K=function(a,b,c,d){var e=hr(this),f=this.getTileKey(a,b,c),g=this.tileSize,h=this.lb().get(f);h||(a=h=new Zk(f,a,b,c,g,this.S,c,e),delete a.j,a.m=d);this.B?(d=wp.pop(g),h.U(d)||wp.push(d,g)):el(h);return h};fr.prototype.Za=function(a,b){var c;if(4===this.f||8===this.f){a=b.Ra();for(c=a.length;c--;)delete a[c].a[b.key];if(a=b.$f())wp.push(a,this.tileSize),b.ag()}else for(a=b.data,c=a.length;c--;)delete a[c].Ci};fr.prototype.o=function(){fr.l.o.call(this);hr(this).C()};\nvar ir={MARKER:1,DOM_MARKER:2,POLYLINE:4,POLYGON:8};fr.ResultType=ir;var gr=[1,2,4,8];function Rq(a,b,c){var d=this,e=b&&b.rowFilter,f=c.resultType;Rq.l.constructor.call(this,c);C(a,jr,Rq,0);Qq(b);e?(c=Wa(b),c.rowFilter=e.toString()):c=Wa(b);delete c.layer;c.layerId=$e(b.layerId,b.layer);(new Pf).a(\"pde\",\"H.service.extension.worker.processor\");a=a.A().clone().F(kr+\".\"+lr).G({meta:1});(new Sf(\"pde\",{message:[this.uid,0,{tileSize:this.tileSize,projected:!0,onlyOutline:4===f,serverUrl:a.toString(),layerConfigs:[c],horizontalMargin:1}]})).then(function(){d.i=!0;d.Ta()},this.Db)}\nu(Rq,fr);t(\"H.service.extension.platformData.TileProvider\",Rq);Rq.prototype.m=function(a,b,c){a=new Yq(a,b,c);a.i=mr;return a};var mr=new wh({strokeColor:\"transparent\",fillColor:\"transparent\",lineWidth:0,lineJoin:\"round\",lineCap:\"round\"});\nRq.prototype.D=function(a,b,c,d,e){var f=this,g=this.getTileKey(a,b,c),h;g=this.lb().get(g);var k={cancel:jd},l=!0,m=this.f;g&&(4===m||8===m?g.Td()||(d(wp.pop(this.tileSize),null),l=!1):(d(y),l=!1));if(l){var n=up.setTimeout(function(){h=new Sf(\"pde\",{message:[f.uid,1,[a,b,c]]});h.then(d,e)},500);k.cancel=function(){h?h.cancel():up.clearTimeout(n)}}return k};Rq.prototype.requestInternal=Rq.prototype.D;Rq.prototype.o=function(){Rq.l.o.call(this);new Sf(\"pde\",{message:[this.uid,3]})};\nRq.ResultType=ir;function nr(a,b,c,d,e,f){Xq(nr,1,b,c);Xq(nr,2,d,e);(this.f=a.length)?(this.R=a,this.s=b,this.i=c,this.b=0,this.c=A(this.c,this),this.m=d,this.j=e,this.a=nc(),Ya(this.a,or,f||{}),this.g={},x.setTimeout(this.c,0)):b(hf,!0)}var or={duration:100,Ll:\"geometry\",Kl:\"WKT\",jo:\"searchAttributes\",bj:B};\nnr.prototype.c=function(){var a=[];var b=!1;for(var c=Jk(),d;this.b<this.f;){var e=this.R[this.b];b=e.attributes;d=e.layerId||this.a.bj;e.distance&&(b[this.a.jo]={nearest:new kg(e.nearestLat,e.nearestLon),distance:e.distance});if(e=e[this.a.Ll]){try{var f=Qn(new ko(e))}catch(g){this.i(new x.Error(g.message));b=!0;break}b[this.a.Kl]=f}(e=this.g[d])||(e=this.g[d]=this.m({layerId:d,columnNames:Object.keys(b)}));b=this.j(e,b);a.push(b);this.b++;if((b=this.b===this.f)||Jk()-c>=this.a.duration){this.s(a,\nb);break}}b?this.g={}:this.u=x.setTimeout(this.c,0)};nr.prototype.cancel=function(){x.clearTimeout(this.u);this.b<this.f&&this.i(new x.Error(\"parsing canceled\"))};nr.prototype.cancel=nr.prototype.cancel;function pr(a){this.a=a}pr.prototype.cancel=function(){for(var a=this.a,b=a.length;b--;)a[b].cancel();a.length=0};pr.prototype.cancel=pr.prototype.cancel;function jr(a){jr.l.constructor.call(this,jr,a)}u(jr,Ip);t(\"H.service.extension.platformData.Service\",jr);jr.prototype.za=function(){return{subDomain:\"s.fleet.ls\",path:\"1\"}};jr.CONFIG_KEY=\"platformData\";\njr.prototype.request=function(a,b,c,d,e){var f=\"text/plain\";if(!a)throw new D(this.request,0,a);if(!b)throw new D(this.request,1,b);if(!d)throw new D(this.request,3,d);if(!e)throw new D(this.request,4,e);a=this.A().clone().F(a+\".\"+b).G(c);b===qr.JSON&&(f=\"application/json\");return this.D(a,d,e,f)};jr.prototype.request=jr.prototype.request;var kr=\"tiles\";\njr.EntryPoint={DOC_ATTRIBUTES:\"doc/attributes\",DOC_LAYER:\"doc/layer\",DOC_LAYERS:\"doc/layers\",DOC_MAPS:\"doc/maps\",DOC_INDEXES:\"doc/indexes\",SEARCH_BBOX:\"search/bbox\",SEARCH_CORRIDOR:\"search/corridor\",SEARCH_PROXIMITY:\"search/proximity\",SEARCH_QUADKEY:\"search/quadkey\",SERVICE_CONFIGURATION:\"serviceconfiguration\",STATIC:\"static\",TILE:\"tile\",TILES:kr,FILE:\"file\",INDEX:\"index\"};var lr=\"json\",qr={TXT:\"txt\",JSON:lr,HTML:\"html\",BIN:\"bin\"};jr.EntryPointType=qr;\njr.prototype.jc=function(a,b){var c=b&&b.resultType;a=new Rq(this,a,b);var d;1==c||2===c?d=new Mn(a):d=new ql(a);return d};jr.prototype.createTileLayer=jr.prototype.jc;function rr(a,b,c,d,e){var f=[],g,h=c.layer_id||c.layer_ids;a=a.request(b,lr,c,function(k){g=new nr(k.geometries,d,e,function(l){return new Oq([],l.columnNames,l)},function(l,m){return l.pc(Pq(l,m))},{bj:h});f.push(g)},function(k){e(new x.Error(k))});f.push(a);return new pr(f)}\nfunction sr(a,b,c){if(!zc(a))throw new D(c,0,\"has invalid type\");if(!zc(b))throw new D(c,1,\"has invalid type\");if(a.length!==b.length||!a.length)throw new D(c,1,\"specify one key attribute for each given layer id in the same order\");}\njr.prototype.Cc=function(a,b,c,d,e,f){function g(l,m){m&&h--;d(l,!h)}var h,k=[];sr(a,b,this.Cc);Xq(this.Cc,3,d,e);C(c,K,this.Cc,2);c={bbox:c.c+\",\"+c.a+\";\"+c.f+\",\"+c.b};f&&Ya(c,f);a=c.layer_id?[c.layer_id]:a;f=0;for(h=a.length;f<h;f++)c.layer_id=a[f],c.key_attribute=b[f],k.push(rr(this,\"search/bbox\",c,g,e));return new pr(k)};jr.prototype.searchByBoundingBox=jr.prototype.Cc;\njr.prototype.Pb=function(a,b,c,d,e,f,g){sr(a,b,this.Pb);C(c,kg,this.Pb,2,\"has invalid type\");if(!Dc(d))throw new D(this.Pb,3,\"has invalid type\");Xq(this.Pb,4,e,f);a={layer_ids:a.join(\",\"),key_attributes:b.join(\",\"),proximity:c.lat+\",\"+c.lng+\",\"+d};g&&Ya(a,g);return rr(this,\"search/proximity\",a,e,f)};jr.prototype.searchByProximity=jr.prototype.Pb;\njr.prototype.Ob=function(a,b,c,d,e,f,g){var h=\"\";sr(a,b,this.Ob);if(!Ac(c)&&!C(c,L))throw new D(this.Ob,1,\"has invalid type\");if(!Dc(d))throw new D(this.Ob,2,\"has invalid type\");Xq(this.Ob,4,e,f);a={layer_ids:a.join(\",\"),key_attributes:b.join(\",\"),radius:d};if(Ac(c))a.route_id=c;else{d=c.Y;c=0;for(b=d.length;c<b;c+=3)h+=d[c]+\",\"+d[c+1],c<b-3&&(h+=\";\");a.corridor=h}g&&Ya(a,g);return rr(this,\"search/corridor\",a,e,f)};jr.prototype.searchByCorridor=jr.prototype.Ob;\nX.prototype.Dj=function(a){tp(X.prototype.Dj);return this.La(jr,a)};X.prototype.getPlatformDataService=X.prototype.Dj;function tr(a){tr.l.constructor.call(this,tr,a)}u(tr,Ip);t(\"H.service.extension.geofencing.Service\",tr);tr.prototype.za=function(){return{subDomain:\"fleet.ls\",path:\"2\"}};tr.CONFIG_KEY=\"geofencing\";tr.prototype.request=function(a,b,c,d){if(!a)throw new D(this.request,0,a);if(!Da(c))throw new TypeError(\"onResult must be a function\");if(!Da(d))throw new TypeError(\"onError must be a function\");a=this.A().clone().F(a+\".json\").G(b);return this.D(a,c,d)};tr.prototype.request=tr.prototype.request;\ntr.prototype.a=function(a){return Error(a.issues&&a.issues.length?a.issues.map(function(b){return b.message}).join(\". \"):a.message||a.response_code)};tr.EntryPoint={SEARCH_PROXIMITY:\"search/proximity\"};X.prototype.vj=function(a){tp(X.prototype.vj);return this.La(tr,a)};X.prototype.getGeofencingService=X.prototype.vj;t(\"H.service.extension.customLocation.Permission\",{READ:\"read\",WRITE:\"write\",EXPORT:\"export\"});t(\"H.service.extension.customLocation.Storage\",{READONLY:\"readonly\",UPDATABLE:\"updatable\"});function ur(a){var b=vr;if(!a||!Ac(a.layerId)||uc(a.rowFilter)&&!Da(a.rowFilter)||uc(a.rowFilterContext)&&!Ea(a.rowFilterContext))throw new D(b,1,uc(\"invalid layer config\")?\"invalid layer config\":a);}function wr(a){return Ac(a)&&/^[A-Z][A-Z0-9_]*$/.test(a)}function xr(a){for(var b=a&&a.length,c=2<=b&&\"WKT\"===a[--b]&&\"GEOMETRY_ID\"===a[--b];c&&b--;)c=wr(a[b]);return c}\nfunction yr(a,b){var c=\"\",d=[];if(b){var e=a.geometries;if(e&&e.length){var f=Object.keys(e[0].attributes);c=c+(\"Meta:\\t\"+b+\"\\n\")+f.join(\"\\t\");c+=\"\\tWKT\\n\";for(a=0;a<e.length;a++){var g=e[a].attributes;var h=e[a].geometry;for(b=0;b<f.length;b++)d.push(g[f[b]]);c+=d.join(\"\\t\");c+=\"\\t\"+h+\"\\n\";d=[]}}}else{h={};d=[];if(a.geometries)for(e=0;e<a.geometries.length;e++)b=a.geometries[e],h[b.layerId]||(h[b.layerId]=[]),h[b.layerId].push(b);for(f in h)d.push({layerId:f,geometries:h[f]});for(a=0;a<d.length;a++)c+=\nyr(d[a],d[a].layerId)}return c};function vr(a,b,c){var d=this,e=b&&b.rowFilter,f;vr.l.constructor.call(this,c);C(a,zr,vr,0);var g=c.resultType;ur(b);if(e){var h=Wa(b);h.rowFilter=e.toString()}else h=b;(new Pf).a(\"cle\",\"H.service.extension.worker.processor\");var k=b.layerId;a.request(Ar,Br,{detail_level:\"all\",layer_id:k},function(l){l=l.layers;var m;for(m=0;m<l.length;m++)if(l[m].layerId===k){h.level=l[m].level;break}f=a.A().clone().F(Cr+\".\"+Br).G({meta:1});(new Sf(\"cle\",{message:[d.uid,0,{tileSize:d.tileSize,projected:!0,onlyOutline:4===\ng,serverUrl:f.toString(),layerConfigs:[h],batchTiles:!1,horizontalMargin:1}]})).then(function(){d.i=!0;d.Ta()},d.Db)},function(l){d.Db(l.message)})}u(vr,fr);t(\"H.service.extension.customLocation.TileProvider\",vr);vr.prototype.m=function(a,b,c){return new Yq(a,b,c)};\nvr.prototype.D=function(a,b,c,d,e){var f=this,g=this.getTileKey(a,b,c),h;g=this.lb().get(g);var k={cancel:jd},l=!0,m=this.f;g&&(4===m||8===m?g.Td()||(d(wp.pop(this.tileSize),null),l=!1):(d(y),l=!1));if(l){var n=up.setTimeout(function(){h=new Sf(\"cle\",{message:[f.uid,1,[a,b,c]]});h.then(d,e)},500);k.cancel=function(){h?h.cancel():up.clearTimeout(n)}}return k};vr.prototype.requestInternal=vr.prototype.D;vr.prototype.o=function(){vr.l.o.call(this);new Sf(\"cle\",{message:[this.uid,3]})};function Dr(){if(Er)throw new Zc(Dr);}t(\"H.service.extension.customLocation.Table\",Dr);var Er=!0;function Fr(a,b){var c;Er=!1;var d=new Dr;Er=!0;d.c=qc(x.JSON.parse(x.JSON.stringify(a)));a=a.columnNames;var e=nc();for(c=a.length;c--;)e[a[c]]=c;d.f=e;d.b=a.length;if(b){if(b.length%a.length)throw new D(Fr,1,\"Invalid number of cells\");}else b=[];d.a=b;return d}Dr.prototype.Ld=function(){return this.c};Dr.prototype.getMeta=Dr.prototype.Ld;Dr.prototype.Od=function(){return this.a.length/this.b};\nDr.prototype.getRowCount=Dr.prototype.Od;Dr.prototype.pc=function(a){return a<this.a.length/this.b?new Gr(this,a):B};Dr.prototype.getRow=Dr.prototype.pc;Dr.prototype.Nm=function(){var a=this.a.length/this.b,b,c=new x.Array(a);for(b=0;b<a;b++)c[b]=new Gr(this,b);return c};Dr.prototype.getRows=Dr.prototype.Nm;Dr.prototype.Cg=function(a){var b=this.b,c=this.a,d=c.length/this.b;if(!a||a.length%b)throw new D(this.Cg,0,\"Invalid number of cells\");this.a=c.concat(a);return d};Dr.prototype.addCells=Dr.prototype.Cg;\nDr.prototype.pl=function(){for(var a=this.b,b=this.a,c=this.a.length/this.b;a--;)b.push(y);return this.pc(c)};Dr.prototype.addRow=Dr.prototype.pl;Dr.prototype.Qa=function(){return this.c.columnNames};Dr.prototype.getColumnNames=Dr.prototype.Qa;Dr.prototype.ye=function(a){return this.f[a]===B?B:new Hr(this,a)};Dr.prototype.getColumn=Dr.prototype.ye;Dr.prototype.sa=function(a,b){return this.a[a*this.b+this.f[b]]};Dr.prototype.getCell=Dr.prototype.sa;\nDr.prototype.Dc=function(a,b,c){b=this.f[b];if(a>=this.a.length/this.b)throw new D(this.Dc,0,\"Row index out of bounds\");if(b===B)throw new D(this.Dc,0,\"Column unknown\");this.a[a*this.b+b]=c};Dr.prototype.setCell=Dr.prototype.Dc;\nDr.prototype.concat=function(a){var b=arguments.length,c,d=\"\"+this.Qa(),e=this.a?this.a.slice():[];for(c=0;c<b;c++){var f=arguments[c];if(!(f instanceof Dr))throw new D(this.concat,c);if(\"\"+f.Qa()!==d)throw new D(this.concat,c,\"Incompatible columns!\");f.a&&(e=e.concat(f.a))}return Fr(this.c,e)};Dr.prototype.concat=Dr.prototype.concat;var Ir=/(\\n|\\t|\\r|\")/;\nDr.prototype.Ai=function(a,b){var c,d=this.b,e=this.Qa(),f=[],g=[],h=this.a,k=-1;for(c=0;c<d;c++)if(!a||a.test(e[c]))\"WKT\"===e[c]&&(k=f.length),f.push(c);if(!(a=f.length))throw new D(this.Ai,1,\"No columns filtered\");Jr(this,g,e,0,d,f,a,k);if(b){var l=b.length;for(c=0;c<l;c++)g.push(\"\\n\"),e=b[c],Jr(this,g,h,e,d,f,a,k)}else for(l=this.Od(),e=0;e<l;e++)g.push(\"\\n\"),Jr(this,g,h,e,d,f,a,k);return g.join(\"\")};\nfunction Jr(a,b,c,d,e,f,g,h){var k;for(k=0;k<g;k++){k&&b.push(\"\\t\");var l=c[d*e+f[k]];if(k!==h){if(l!==y){l=String(l);if(Ir.test(l))throw new D(a.Ai,0,'Invalid character (\\\\n, \\\\r, \\\\t, or \") in row '+d+\" column \"+a.c.columnNames[f[k]]);b.push(l)}}else b.push(l)}}function Hr(a,b){this.b=a;this.a=b}Dr.Column=Hr;Hr.prototype.sa=function(a){return this.b.sa(a,this.a)};Hr.prototype.getCell=Hr.prototype.sa;Hr.prototype.Dc=function(a,b){this.b.Dc(a,this.a,b)};Hr.prototype.setCell=Hr.prototype.Dc;\nfunction Gr(a,b){this.a=a;this.Hh=b}Dr.Row=Gr;Gr.prototype.Qa=function(){return this.a.Qa()};Gr.prototype.getColumnNames=Gr.prototype.Qa;Gr.prototype.sa=function(a){return this.a.sa(this.Hh,a)};Gr.prototype.getCell=Gr.prototype.sa;Gr.prototype.Dc=function(a,b){this.a.Dc(this.Hh,a,b)};Gr.prototype.setCell=Gr.prototype.Dc;Gr.prototype.kd=function(){return this.a};Gr.prototype.getTable=Gr.prototype.kd;function Kr(a){if(a===B)a=\"\\t\";else if(!/^[^\"\\r\\n]$/.test(a))throw new D(Kr,0);this.c=String(a).charCodeAt(0);this.Ih=A(this.Ih,this);this.a=Lr}var Lr=0;p=Kr.prototype;p.getState=function(){return this.a};function Mr(a,b,c){var d=a.a;if(d!==b)throw 1===d&&(a.a=Lr),new Zc(c,\"Requires state: \"+[\"READY\",\"PARSE\",\"PAUSE\"][b]+\" but found \"+[\"READY\",\"PARSE\",\"PAUSE\"][d]);}p.abort=function(){Mr(this,2,Kr.prototype.abort);this.a=Lr};\np.Ih=function(a){this.a=Lr;throw new D(Kr.prototype.parse,0,\"Malformed DSV at row \"+this.b.j+\" column \"+this.b.b+\": \"+a);};function Nr(a,b){var c=[];a.parse(b,function(d,e,f){1>d&&(c[e]=f);return 0<d});a.a=Lr;return c}p.parse=function(a,b,c){Mr(this,Lr,Kr.prototype.parse);a=a.trim();this.b=new Or(a,this.c,this.Ih);this.f=b;this.mk=c||gf;this.a=2;this.Jh()};p.mk=gf;\np.Jh=function(){var a=this.b,b=[];Mr(this,2,Kr.prototype.Jh);this.a=1;do{if(!a.g){this.a=Lr;break}if(e>a.b){if(void 0!==c&&c!==e){this.b.a(\"The number of columns must be the same for all rows\");return}var c=e}var d=a.j;var e=a.b;var f=a.pf;var g=this.mk(d,e,a);if(a.pf>f)for(;-1!==a.next(););else{for(;-1!==(f=a.next());)b.push(f);g=String.fromCharCode.apply(y,b);b.length=0}Pr(a);this.f(d,e,g)&&(this.a=a.g?2:Lr)}while(1===this.a);2!=this.a&&void 0!==c&&0<e&&c!==e&&this.b.a(\"The number of columns must be the same for all rows\")};\nfunction Or(a,b,c){this.c=new ko(a);this.m=b;this.g=!0;this.pf=this.j=this.b=0;Pr(this);this.a=c;this.f=[];this.i=!1}p=Or.prototype;p.pf=0;function Pr(a){var b=a.c.Lb();a.s=!1;(a.R=34===b)&&a.c.next()}function Qr(a,b){var c=a.c;a.s=!0;switch(b){case a.m:a.b++;break;case 13:c.next(),10!==c.Lb()&&a.a(\"CR without LF\");case 10:a.b=0;a.j++;break;case -1:a.g=!1;break;default:a.a(\"End of field expected\")}c.next();return-1}\np.Lb=function(){if(this.s)var a=-1;else{var b=this.c;a=b.Lb();if(this.R)switch(a){case 34:b.next();a=b.Lb();34!==a&&(a=Qr(this,a));break;case -1:this.a(\"Closing quotation mark expected\")}else switch(a){case 34:this.a(\"Unexpected quotation mark\");case this.m:case 13:case 10:case -1:a=Qr(this,a)}}return a};p.ee=function(){this.i=!0;this.f=[]};p.Ed=function(){var a=this.f.slice();this.i=!1;this.f=[];return a};p.next=function(){var a=this.Lb();-1!==a&&this.c.next();this.i&&this.f.push(a);this.pf++;return a};function Rr(a,b,c,d){d=d||{};if(!b)throw new D(Rr,1,\"has to be a function\");if(!c)throw new D(Rr,2,\"has to be a function\");this.m=b;this.u=c;this.a=[];this.g={};this.f=[];this.b={};this.i={};this.j={};this.s={};this.R=d.duration||100;this.c=A(this.c,this);a=a.split(\"Meta:\\t\").slice(1);for(b=0;b<a.length;b++){d=a[b].split(\"\\n\");c=d[0].split(\"\\t\")[0];d=d.slice(1).join(\"\\n\");this.b[c]=new Kr;this.g[c]=Nr(this.b[c],d);var e={layerId:c,columnNames:this.g[c]};this.f.push(c);this.s[c]=Fr(e);this.i[c]=Jk();\nSr(this,d,c);this.c(c)}}function Sr(a,b,c){var d=[],e=a.g[c].length-1,f=a.s[c];try{a.b[c].parse(b,function(g,h,k){var l=!1;0<g&&(d[h]=k,h===e&&(a.a.push(f.pc(f.Cg(d))),Jk()-a.i[c]>a.R&&(l=!0)));return l},function(g,h,k){if(0<g&&h===e)return Qn(k)})}catch(g){a.u(g)}}Rr.prototype.cancel=function(){for(var a in this.j)x.clearTimeout(this.j[a])};Rr.prototype.cancel=Rr.prototype.cancel;\nRr.prototype.c=function(a){var b=this,c,d;this.j[a]=x.setTimeout(function(){if(2===b.b[a].getState())b.i[a]=Jk(),b.m(b.a,!1),b.a=[],b.b[a].Jh(),b.c(a);else{c=!0;for(d=0;d<b.f.length;d++)if(b.b[b.f[d]].getState()!==Lr){c=!1;break}c&&(0<b.a.length&&b.m(b.a,!0),b.a=[])}},0)};function zr(a){zr.l.constructor.call(this,zr,a)}u(zr,Ip);t(\"H.service.extension.customLocation.Service\",zr);zr.prototype.za=function(){return{subDomain:\"fleet.ls\",path:\"2\"}};zr.CONFIG_KEY=\"customLocation\";zr.prototype.jc=function(a,b){var c=b&&b.resultType;a=new vr(this,a,b);var d;1===c||2===c?d=new Mn(a):d=new ql(a);return d};zr.prototype.createTileLayer=zr.prototype.jc;\nfunction Tr(a,b,c,d){var e;a=a===Ur?\"changes\":\"file\";var f=b[a],g=Ac(f),h=!g&&C(f,Blob);if(!g&&!h)throw new D(d,0,\"Invalid \"+a+\" parameter\");if(Vr)h?e=f:e=pf(f,\"text/plain\"),d=new x.FormData,d.append(a,e,e.name||a+\".wkt\"),c.method=\"POST\",c.data=d,delete b[a];else if(h)throw new D(d,0,\"Sending Blob data is not supported by the browser\");}var Vr=x.FormData&&!!x.FormData.prototype.append;zr.prototype.request=function(a,b,c,d,e){return Wr(this,a,b,c,d,e)};zr.prototype.request=zr.prototype.request;\nfunction Wr(a,b,c,d,e,f){var g=\"text/plain\",h=b===Xr.LAYERS_UPLOAD||b===Xr.LAYERS_MODIFY||b===Xr.LAYERS_IMPORT,k=d,l={data:B,method:\"GET\",headers:a.g};if(!b)throw new D(a.request,0,b);if(!c)throw new D(a.request,1,c);Xq(a.request,3,e,f);h&&(C(d,Object,a.request,2,\"Invalid request parameters\"),k=Wa(d),Tr(b,k,l,a.request));var m=a.A().clone().F(b+\".\"+c).G(k);c===Yr.JSON&&(g=\"application/json\");a=new tf(g,m.toString(),he,l);a.then(function(n){var q=n.issues;q&&n.error_id&&n.response_code?f(Error(q[0].message)):\ne(n)},function(n){\"error\"===n.type||404===n.status?f(Error(n.statusText||\"Unable to load data\")):n.json().then(function(q){f(Error(\"[\"+q.issues[0].message+\"] \"+m+\" request failed\"))},function(){f(Error(\"[\"+n.statusText+\"] \"+m+\" request failed\"))})});return a}\nvar Ar=\"layers/list\",Ur=\"layers/modify\",Cr=\"tiled/tile\",Xr={LAYERS_DELETE:\"layers/delete\",LAYERS_GRANT:\"layers/access/grant\",LAYERS_LIST:Ar,LAYERS_MODIFY:Ur,LAYERS_UPLOAD:\"layers/upload\",LAYERS_IMPORT:\"layers/import\",SEARCH_ALL:\"search/all\",SEARCH_BBOX:\"search/bbox\",SEARCH_CORRIDOR:\"search/corridor\",SEARCH_PROXIMITY:\"search/proximity\",SEARCH_QUADKEY:\"search/quadkey\",SEARCH_TILE:Cr};zr.EntryPoint=Xr;var Br=\"json\",Yr={TXT:\"txt\",JSON:Br};zr.EntryPointType=Yr;\nzr.prototype.mb=function(a,b,c){var d=this;return this.request(\"search/all\",\"txt\",{filter:'WKT==\"\"',layer_id:a},function(e){var f=String(e).replace(/[\\r\\n]+$/g,\"\").split(\"\\t\");d.request(Ar,Br,{layer_id:a,detail_level:\"all\"},function(g){g=g.layers[0];g.columnNames=f;b(Fr(g))},c)},c)};zr.prototype.getLayer=zr.prototype.mb;\nzr.prototype.Kj=function(a,b,c,d){function e(){return++g<f?h.request(\"layers/access/grant\",Br,{layer_id:a,granted_app_id:b[g].grantedAppId,permissions:b[g].permissions.join(\",\")},e,d):h.mb(a,c,d)}var f=b&&b.length,g=-1,h=this;return e()};zr.prototype.grantAccess=zr.prototype.Kj;zr.prototype.dj=function(a,b,c){return this.request(\"layers/delete\",Br,{layer_ids:a},b,c)};zr.prototype.deleteLayer=zr.prototype.dj;\nzr.prototype.ic=function(a,b,c){function d(){setTimeout(function(){k.mb(g,function(q){setTimeout(e.bind(null,q),m)},function(){64E3>l?(l+=m,d()):c(x.Error(\"Timeout\"))})},m);m*=2}function e(q){var r=JSON.stringify(q.Qa()),v=a.grants;if(r!==JSON.stringify(h)){var w=\"Results into different column names on the backend: \"+r;setTimeout(function(){k.dj(g,function(){c(x.Error(w))},function(z){c(x.Error(w+\". \"+z.message))})},m)}else v&&v.length?k.Kj(g,v,b,c):b(q)}var f,g,h,k=this,l=0,m=1E3;var n=!a||!wr(g=\na.layerId)&&(f=\"layerId\")||!xr(h=a.columnNames)&&(f=\"columnNames\")?0:Da(b)?Da(c)?-1:2:1;if(0<=n)throw new D(k.ic,n,f||arguments[n]);return k.mb(g,function(){c(x.Error(\"Layer exists already\"))},function(){var q={layer_id:g,file:h.join(\"\\t\")},r=a.level,v=a.storage;r!==B&&(q.level=r);v!==B&&(q.storage=v);k.request(\"layers/upload\",Br,q,d,c)})};zr.prototype.createLayer=zr.prototype.ic;\nfunction Zr(a,b,c,d,e){var f=[],g;a=a.request(b,Br,c,function(h){h.geometries.length?(h=yr(h,c.layer_id),g=new Rr(h,d,e),f.push(g)):d(hf,!0)},e);f.push(a);return new pr(f)}zr.prototype.Pb=function(a,b,c,d,e,f){if(!zc(a))throw new D(this.Pb,0,\"has invalid type\");C(b,kg,this.Pb,1,\"has invalid type\");if(!Dc(c))throw new D(this.Pb,2,\"has invalid type\");Xq(this.Pb,3,d,e);a={layer_ids:a.join(\",\"),proximity:b.lat+\",\"+b.lng+\",\"+c};f&&Ya(a,f);return Zr(this,\"search/proximity\",a,d,e)};\nzr.prototype.searchByProximity=zr.prototype.Pb;zr.prototype.Ob=function(a,b,c,d,e,f){var g=\"\";if(!zc(a))throw new D(this.Ob,0,\"has invalid type\");if(!Ac(b)&&!C(b,L))throw new D(this.Ob,1,\"has invalid type\");if(!Dc(c))throw new D(this.Ob,2,\"has invalid type\");Xq(this.Ob,3,d,e);a={layer_ids:a.join(\",\"),radius:c};if(Ac(b))a.route_id=b;else{var h=b.Y;b=0;for(c=h.length;b<c;b+=3)g+=h[b]+\",\"+h[b+1],b<c-3&&(g+=\",\");a.corridor=g}f&&Ya(a,f);return Zr(this,\"search/corridor\",a,d,e)};\nzr.prototype.searchByCorridor=zr.prototype.Ob;zr.prototype.Cc=function(a,b,c,d,e){function f(k,l){l&&h--;c(k,!h)}var g=[],h;if(!zc(a))throw new D(this.Cc,0,\"has invalid type\");C(b,K,this.Cc,1,\"has invalid type\");Xq(this.Cc,2,c,d);b={bbox:b.c+\",\"+b.a+\";\"+b.f+\",\"+b.b};e&&Ya(b,e);a=b.layer_id?[b.layer_id]:a;e=0;for(h=a.length;e<h;e++)b.layer_id=a[e],g.push(Zr(this,\"search/bbox\",b,f,d));return new pr(g)};zr.prototype.searchByBoundingBox=zr.prototype.Cc;\nzr.prototype.fi=function(a,b,c,d){var e,f=[];if(!Ac(a))throw new D(this.fi,0,\"has invalid type\");Xq(this.fi,1,b,c);var g={layer_id:a};d&&Ya(g,d);d=this.request(\"search/all\",Br,g,function(h){h.geometries.length?(h=yr(h,a),e=new Rr(h,b,c),f.push(e)):b(hf,!0)},c);f.push(d);return new pr(f)};zr.prototype.searchAll=zr.prototype.fi;var $r={\"delete\":/^GEOMETRY_ID$/,append:/^(?!GEOMETRY_ID$)/};\nfunction as(a,b,c,d,e,f){function g(){v++;d(this,v===q)}function h(Q){v++;e(Q,this,v===q)}var k=\"append\"!==b,l,m={},n=nc(),q=0,r=[],v=0;if(!zc(c))throw new D(f,0,c);Xq(f,1,d,e);for(l=c.length;l--;){var w=c[l];if(C(w,Gr)){var z=w.kd().Ld().layerId;var J=w.sa(\"GEOMETRY_ID\");if(k){if(J===y||\"\"===String(J))var I='GEOMETRY_ID must not be null or \"\"';m[J=z+\"_\"+J]&&(I=\"same GEOMETRY_ID for multiple rows\");m[J]=w}else J!==y&&\"\"!==String(J)&&(I='GEOMETRY_ID must be null or \"\"')}else I=\"Invalid type\";if(I)throw new D(f,\n0,\"- Invalid row at index \"+l+\", \"+I);J=n[z];J||(J=n[z]=[],q++);J.push(w)}for(z in n){J=n[z];c=[];for(l=J.length;l--;)c.push(J[l].Hh);r.push(a.request(Ur,Br,{layer_id:z,action:b,changes:J[0].kd().Ai($r[b]||null,c)},A(g,J),A(h,J)))}return new pr(r)}zr.prototype.Ui=function(a,b,c){return as(this,\"append\",a,b,c,this.Ui)};zr.prototype.appendRows=zr.prototype.Ui;zr.prototype.jl=function(a,b,c){return as(this,\"update\",a,b,c,this.jl)};zr.prototype.updateRows=zr.prototype.jl;\nzr.prototype.ej=function(a,b,c){return as(this,\"delete\",a,b,c,this.ej)};zr.prototype.deleteRows=zr.prototype.ej;X.prototype.pj=function(a){tp(X.prototype.pj);return this.La(zr,a)};X.prototype.getCustomLocationService=X.prototype.pj;function bs(a){dq.l.constructor.call(this,bs,a)}u(bs,Ip);t(\"H.service.extension.customRoute.Service\",bs);bs.prototype.za=function(){return{subDomain:\"s.fleet.ls\",path:\"2\"}};bs.CONFIG_KEY=\"customRoute\";bs.prototype.a=function(a){return Error(a.issues&&a.issues.length?a.issues.map(function(b){return b.message}).join(\". \"):a)};bs.prototype.Ad=function(a,b,c){Xq(this.Ad,1,b,c);a=this.A().clone().F(\"calculateroute.json\").G(a);return this.D(a,b,c)};bs.prototype.calculateRoute=bs.prototype.Ad;\nX.prototype.qj=function(a){tp(X.prototype.qj);return this.La(bs,a)};X.prototype.getCustomRoutingService=X.prototype.qj;function cs(a,b,c){c=c||{};var d=+c.min,e=+c.max;c.min=d?Zd(d,1,17):1;c.max=e?Zd(e,1,17):17;cs.l.constructor.call(this,c);C(a,ds,cs,0);C(b,Th,cs,1);this.f=a;b.b&&b.b(\"OMV\");this.eb(b,!0);this.i=rp(this)}u(cs,T);t(\"H.service.trafficVectorTile.Provider\",cs);cs.prototype.yc=ff;cs.prototype.providesOMV=cs.prototype.yc;cs.prototype.rb=function(a){return this.i.test(a)};cs.prototype.cacheFilter=cs.prototype.rb;cs.prototype.qc=function(a,b,c){return es(this.f,a,b,c).toString()};\ncs.prototype.getTileKey=cs.prototype.qc;cs.prototype.lb=function(){return this.m};cs.prototype.getCache=cs.prototype.lb;cs.prototype.MAX_STORE_TIME=2592E6;cs.prototype.j=function(){return nd()};cs.prototype.c=function(){return nd()?md():cs.l.c.call(this)};cs.prototype.ra=function(){return this.f};cs.prototype.D=function(a,b,c,d,e){return this.f.Ga(a,b,c,d,e)};cs.prototype.requestInternal=cs.prototype.D;cs.prototype.jb=function(a){a.b&&a.b(\"OMV\");this.eb(a)};cs.prototype.setStyle=cs.prototype.jb;\ncs.prototype.$=function(){return cs.l.Da.apply(this)};cs.prototype.getStyle=cs.prototype.$;cs.prototype.Da=function(){var a=cs.l.Da.apply(this);a.getState()!==Uh.READY&&a.load();return a};cs.prototype.getStyleInternal=cs.prototype.Da;cs.prototype.m=new Pk(256);cs.prototype.aa=function(){return null};cs.prototype.getCopyrights=cs.prototype.aa;function ds(a){ds.l.constructor.call(this,ds,a);this.b=(a||jf).layer||\"traffic\"}u(ds,Ip);t(\"H.service.trafficVectorTile.Service\",ds);ds.prototype.za=function(){return{subDomain:\"traffic.vector\",path:\"v2\"}};ds.CONFIG_KEY=\"trafficVectorTile\";ds.prototype.ic=function(a,b,c){b=b||{};var d={min:0,max:22};Ea(c)&&sp(d,c);return new ql(new cs(this,a,b),d)};ds.prototype.createLayer=ds.prototype.ic;\nds.prototype.Ga=function(a,b,c,d,e){return this.D(es(this,a,b,c),function(f){return f.arrayBuffer().then(d,e)},e,\"arraybuffer\")};function es(a,b,c,d){return a.A().clone().F(\"traffictiles/\"+a.b+\"/mc/\"+d+\"/\"+b+\"/\"+c+\"/omv\")}X.prototype.Xm=function(a){return this.La(ds,a)};X.prototype.getTrafficVectorTileService=X.prototype.Xm;function fs(a){fs.l.constructor.call(this,fs,a)}u(fs,Ip);t(\"H.service.SearchService\",fs);fs.CONFIG_KEY=\"search\";fs.prototype.za=function(){return{subDomain:\"search\",path:\"v1\"}};fs.prototype.a=function(a){a=[a.title,a.action,a.cause].filter(function(b){return b});return Error(a.join(\". \"))};fs.prototype.Ug=function(a,b,c){a=this.A().clone().Aa(\"geocode\").F(\"geocode\").G(a);return this.D(a,b,c)};fs.prototype.geocode=fs.prototype.Ug;\nfs.prototype.ci=function(a,b,c){a=this.A().clone().Aa(\"revgeocode\").F(\"revgeocode\").G(a);return this.D(a,b,c)};fs.prototype.reverseGeocode=fs.prototype.ci;fs.prototype.tl=function(a,b,c){a=this.A().clone().Aa(\"autosuggest\").F(\"autosuggest\").G(a);return this.D(a,b,c)};fs.prototype.autosuggest=fs.prototype.tl;fs.prototype.Al=function(a,b,c){a=this.A().clone().Aa(\"discover\").F(\"discover\").G(a);return this.D(a,b,c)};fs.prototype.discover=fs.prototype.Al;\nfs.prototype.xn=function(a,b,c){a=this.A().clone().Aa(\"lookup\").F(\"lookup\").G(a);return this.D(a,b,c)};fs.prototype.lookup=fs.prototype.xn;fs.prototype.vl=function(a,b,c){a=this.A().clone().Aa(\"browse\").F(\"browse\").G(a);return this.D(a,b,c)};fs.prototype.browse=fs.prototype.vl;X.prototype.Pm=function(a){return this.La(fs,a)};X.prototype.getSearchService=X.prototype.Pm;function gs(a){this.c=!!a.toBypassToken;if(!this.c&&!a.token)throw new D(gs,0,'\"token\" must be specified');gs.l.constructor.call(this,gs,a);this.j=a.token;this.f={};this.b={}}u(gs,Ip);t(\"H.service.xyz.Service\",gs);gs.prototype.za=function(){return{host:\"xyz.api.here.com\",path:\"hub/spaces\"}};gs.prototype.a=function(a){return Error(a.errorMessage||a.message)};\ngs.prototype.eh=function(a,b,c){xc(a,\"String\",this.eh,0,'\"projectId\" must be a string');hs(this.eh,1,b,c);a=is(this.A().clone().ud(\"project-api/projects/\"+a));return this.D(a,b,c)};gs.prototype.getProject=gs.prototype.eh;gs.prototype.Fj=function(a,b,c){hs(this.Fj,0,a,b);c=js(this,this.A().clone().G(c||{}));return this.D(c,a,b)};gs.prototype.getSpaces=gs.prototype.Fj;\ngs.prototype.Gf=function(a,b,c){xc(a,\"String\",this.Gf,0,'\"spaceId\" must be a string');hs(this.Gf,1,b,c);a=js(this,this.A().clone().F(a));return this.D(a,b,c)};gs.prototype.getSpace=gs.prototype.Gf;gs.prototype.Pd=function(a,b,c){xc(a,\"String\",this.Pd,0,'\"spaceId\" must be a string');hs(this.Pd,1,b,c);a=js(this,this.A().clone().F(a+\"/statistics\"));return this.D(a,b,c)};gs.prototype.getStatistics=gs.prototype.Pd;\ngs.prototype.Bf=function(a,b,c,d,e,f,g){a=js(this,this.A().clone().F(d+\"/tile/web/\"+c+\"_\"+a+\"_\"+b+\".mvtf\").G(Object.assign({clip:!0},g)));return this.D(a,function(h){return h.arrayBuffer().then(e)},f,\"arraybuffer\")};gs.prototype.search=function(a,b,c,d){xc(a,\"String\",this.search,0,'\"spaceId\" must be a string');hs(this.search,1,b,c);a=js(this,this.A().clone().F(a+\"/search\").G(d||{}));return this.D(a,b,c)};gs.prototype.search=gs.prototype.search;\ngs.prototype.Qc=function(a,b,c,d){xc(a,\"String\",this.Qc,0,'\"spaceId\" must be a string');if(!Ea(b))throw new D(this.Qc,1,'\"params\" must be an object');hs(this.Qc,2,c,d);a=js(this,this.A().clone().F(a+\"/features\").G(b));return this.D(a,c,d)};gs.prototype.getFeaturesById=gs.prototype.Qc;\ngs.prototype.Id=function(a,b,c,d){xc(a,\"String\",this.Id,0,'\"spaceId\" must be a string');if(!Ea(b))throw new D(this.Qc,1,'\"params\" must be an object');hs(this.Id,2,c,d);a=js(this,this.A().clone().F(a+\"/bbox\").G(b));return this.D(a,c,d)};gs.prototype.getFeaturesByBoundingBox=gs.prototype.Id;gs.prototype.aa=function(a){var b=this.f[a];if(b)return b;this.b[a]||ks(this,a);return null};\ngs.prototype.Yc=function(a,b,c,d,e){xc(a,\"String\",this.Yc,0,'\"spaceId\" must be a string');if(!Ea(b))throw new D(this.Yc,1,'\"geojsonObject\" must be an object');hs(this.Yc,2,c,d);if(e&&!Ea(e))throw new D(this.Yc,4,'\"opt_params\" must be an object');return ls(this,a,c,d,\"PUT\",b,e)};gs.prototype.putFeatures=gs.prototype.Yc;\ngs.prototype.Wc=function(a,b,c,d,e){xc(a,\"String\",this.Wc,0,'\"spaceId\" must be a string');if(!Ea(b))throw new D(this.Wc,1,'\"featureCollection\" must be an object');hs(this.Wc,2,c,d);if(e&&!Ea(e))throw new D(this.Wc,4,'\"opt_params\" must be an object');return ls(this,a,c,d,\"POST\",b,e)};gs.prototype.postFeatures=gs.prototype.Wc;\ngs.prototype.fd=function(a,b,c,d){xc(a,\"String\",this.fd,0,'\"spaceId\" must be a string');if(!Ea(b))throw new D(this.fd,1,'\"params\" must be an object');hs(this.fd,2,c,d);return ls(this,a,c,d,\"DELETE\",B,b)};gs.prototype.deleteFeatures=gs.prototype.fd;\nfunction ls(a,b,c,d,e,f,g){var h=Object.assign(a.c?{}:{authorization:\"Bearer \"+a.j},{\"Content-Type\":\"application/geo+json\"},a.g);e={method:e,headers:h};f&&(e.data=JSON.stringify(f));b=is(a.A().clone().F(b+\"/features\").G(g||{}));f=new tf(\"application/json\",b.toString(),he,e);f.then(c,Kp(a,b,d));return f}function ks(a,b){a.b[b]=ms;a.Gf(b,function(c){a.b[b]=ns;a.f[b]=c.copyright;a.dispatchEvent(\"copyrightupdate\")},function(c){a.b[b]=os;throw c;})}\nfunction js(a,b){return a.c?b:is(b).G({access_token:a.j})}function is(a){var b=Object.assign({},a.getQuery());delete b.apikey;return a.og(b)}gs.CONFIG_KEY=\"xyz\";var ms=1,ns=2,os=-1;function hs(a,b,c,d){if(!Da(c))throw new D(a,b,'\"onResult\" must be a function');if(!Da(d))throw new D(a,b+1,'\"onError\" must be a function');}X.prototype.Hj=function(a){tp(X.prototype.Hj,\"Use HERE IML service instead.\");return this.La(gs,a)};X.prototype.getXYZService=X.prototype.Hj;function ps(a,b,c){var d;ps.l.constructor.call(this,c?{min:c.min,max:c.max,engineType:c.engineType}:void 0);C(a,gs,ps,0);if(!Ac(b))throw new D(ps,1,'\"spaceId\" must be a string');this.m=a;this.f=b;this.i={};if(c&&([\"limit\",\"simplificationLevel\",\"tags\"].forEach(function(e){e in c&&(this.i[e]=c[e])},this),a=c.parameters))for(d in a)this.i[d]=a[d];this.eb(this.a===ik.WEBGL?new qi({sources:{xyz:{type:\"MVT\"}},layers:{xyz:{data:{source:\"xyz\",layer:this.f},points:{filter:{$geometry:\"point\"},draw:{points:{collide:!1,\norder:200,color:\"#92CF48\",size:[[10,\"8px\"],[14,\"12px\"],[18,\"16px\"]]}}},polygons:{filter:{$geometry:\"polygon\"},draw:{polygons:{order:201,color:\"#E39E3C\"},lines:{order:202,color:\"#755DA5\",width:\"1px\"}}},lines:{filter:{$geometry:\"line\"},draw:{lines:{order:203,color:\"#000000\",width:\"2px\",join:\"round\",cap:\"round\"}}}}}}):new H.map.render.harp.Style({styles:[{layer:this.f,when:[\"==\",[\"geometry-type\"],\"Point\"],technique:\"circles\",renderOrder:200,color:\"#92CF48\",size:[\"interpolate\",[\"linear\"],[\"zoom\"],10,\n8,14,12,18,16]},{layer:this.f,when:[\"==\",[\"geometry-type\"],\"Polygon\"],technique:\"fill\",color:\"#E39E3C\",renderOrder:201},{layer:this.f,when:[\"==\",[\"geometry-type\"],\"Polygon\"],technique:\"solid-line\",color:\"#755DA5\",lineWidth:\"1px\",renderOrder:202},{layer:this.f,when:[\"==\",[\"geometry-type\"],\"LineString\"],technique:\"solid-line\",color:\"#000000\",lineWidth:\"2px\",renderOrder:203}]}))}u(ps,T);t(\"H.service.xyz.Provider\",ps);ps.prototype.D=function(a,b,c,d,e){return this.m.Bf(a,b,c,this.f,d,e,this.i)};\nps.prototype.requestInternal=ps.prototype.D;ps.prototype.aa=function(){return this.m.aa(this.f)};ps.prototype.getCopyrights=ps.prototype.aa;ps.prototype.yc=ff;ps.prototype.providesOMV=ps.prototype.yc;ps.prototype.$=function(){return this.Da()};ps.prototype.getStyle=ps.prototype.$;ps.prototype.jb=function(a){C(a,qi)&&a.b(\"MVT\");this.eb(a)};ps.prototype.setStyle=ps.prototype.jb;t(\"H.service.buildInfo\",function(){return Hf(\"H-service\",\"1.40.0\",\"b6cf9db\",{region:\"row\"})});\n");